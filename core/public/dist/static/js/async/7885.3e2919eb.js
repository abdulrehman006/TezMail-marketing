"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["7885"],{60045(e,t,l){l.d(t,{h:()=>n});var a=l(90290),s=l(98179);let i=Symbol("MODAL_INJECT"),n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{state:t={},component:l,onCancel:n,onConfirm:o}=e,r=(0,a.Kh)({});return l?[(0,a.pM)({setup(s,n){let{attrs:o,slots:u}=n;return(0,a.Gt)(i,{state:t,options:e,extendApi:e=>{Object.setPrototypeOf(r,e)},setState:e=>{Object.assign(t,e)}}),()=>(0,a.h)(l,{...s,...o},u)}}),r]:[(0,a.pM)({setup(t,l){let{attrs:u,slots:p}=l,c=(0,a.WQ)(i),d=(0,a.KR)(!1);return r.open=()=>{var t;d.value=!0,null==(t=e.onChangeState)||t.call(e,d.value)},r.close=()=>{d.value=!1},r.setState=t=>{var l;null==c||c.setState(t),null==(l=e.onChangeState)||l.call(e,d.value)},r.getState=()=>(null==c?void 0:c.state)??{},null==c||c.extendApi(r),()=>(0,a.bF)(s.A,(0,a.v6)({show:d.value},t,u,{onCancel:n,onConfirm:o,"onUpdate:show":e=>{d.value=e??!1}}),p)}}),r]}},6943(e,t,l){l.d(t,{i:()=>n});var a=l(21879),s=l(12532),i=l(90290);let n=e=>{let{fetchFn:t,params:l,loading:n=!1,immediate:o=!1}=e,r=(0,i.KR)(n),u=(0,i.KR)([]),p=(0,i.KR)(0),c=(0,i.KR)(l),d=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e&&(l.page=1),t){r.value=!0;try{let e=await t(c.value);(0,s.Gv)(e)&&(u.value=(0,s.cy)(e.list)?e.list:[],p.value=(0,a.A)(e.total)?e.total:0)}finally{r.value=!1}}};return o&&d(),{loading:r,tableList:u,tableTotal:p,tableParams:c,getTableData:d}}},28391(e,t,l){l.d(t,{A:()=>o});var a=l(23995),s=l(27546),i=l(90290);let n={class:"leading-22px text-13px text-desc text-center"},o=(0,i.pM)({__name:"index",setup(e){let t=()=>{window.open("https://github.com/aaPanel/BillionMail/issues")},l=()=>{window.open("https://github.com/aaPanel/BillionMail")};return(e,o)=>{let r=s.Ay,u=(0,i.g2)("i18n-t"),p=a.A;return(0,i.uX)(),(0,i.Wv)(p,null,{default:(0,i.k6)(()=>[(0,i.Lk)("div",n,[(0,i.bF)(u,{tag:"span",scope:"global",keypath:"components.tableHelp.text1"},{issues:(0,i.k6)(()=>[(0,i.bF)(r,{class:"text-13px",type:"primary",text:"",onClick:t},{default:(0,i.k6)(()=>[...o[0]||(o[0]=[(0,i.Lk)("span",null,"Issues",-1),(0,i.Lk)("i",{class:"i-mdi:arrow-right ml-1px"},null,-1)])]),_:1})]),star:(0,i.k6)(()=>[(0,i.bF)(r,{class:"text-13px",type:"primary",text:"",onClick:l},{default:(0,i.k6)(()=>[...o[1]||(o[1]=[(0,i.eW)(" Star ",-1),(0,i.Lk)("i",{class:"i-mdi:arrow-right ml-1px"},null,-1)])]),_:1})]),_:1}),o[2]||(o[2]=(0,i.Lk)("br",null,null,-1)),(0,i.Lk)("span",null,(0,i.v_)(e.$t("components.tableHelp.text2")),1)])]),_:1})}}})},63919(e,t,l){l.d(t,{A:()=>i});var a=l(85684),s=l(90290);let i=(0,s.pM)({__name:"index",setup(e){let t=!!(0,s.Ht)().toolsLeft,l=!!(0,s.Ht)().toolsRight,i=!!(0,s.Ht)().pageLeft||!!(0,s.Ht)().pageRight;return(e,n)=>{let o=a.A;return(0,s.uX)(),(0,s.CE)("div",null,[t||l?((0,s.uX)(),(0,s.Wv)(o,{key:0,class:"items-center mb-12px",justify:"space-between"},{default:(0,s.k6)(()=>[(0,s.bF)(o,{class:"items-center",size:12},{default:(0,s.k6)(()=>[(0,s.RG)(e.$slots,"toolsLeft")]),_:3}),(0,s.bF)(o,{class:"items-center",size:12},{default:(0,s.k6)(()=>[(0,s.RG)(e.$slots,"toolsRight")]),_:3})]),_:3})):(0,s.Q3)("",!0),(0,s.RG)(e.$slots,"table"),(0,s.R1)(i)?((0,s.uX)(),(0,s.Wv)(o,{key:1,class:"items-center mt-12px",justify:"space-between"},{default:(0,s.k6)(()=>[(0,s.Lk)("div",null,[(0,s.RG)(e.$slots,"pageLeft")]),(0,s.bF)(o,null,{default:(0,s.k6)(()=>[(0,s.RG)(e.$slots,"pageRight")]),_:3})]),_:3})):(0,s.Q3)("",!0),(0,s.RG)(e.$slots,"modal")])}}})},13665(e,t,l){l.d(t,{A:()=>i});var a=l(62408),s=l(90290);let i=(0,s.pM)({__name:"index",props:{model:{},rules:{},labelWidth:{},labelPlacement:{default:"top"}},setup(e,t){let{expose:l}=t,i=(0,s.KR)(null);return l({validate:()=>{var e;return null==(e=i.value)?void 0:e.validate()},restoreValidation:()=>{var e;return null==(e=i.value)?void 0:e.restoreValidation()}}),(t,l)=>{let n=a.A;return(0,s.uX)(),(0,s.Wv)(n,(0,s.v6)(t.$attrs,{ref_key:"formRef",ref:i,model:e.model,rules:e.rules,"label-width":e.labelWidth,"label-placement":e.labelPlacement}),{default:(0,s.k6)(()=>[(0,s.RG)(t.$slots,"default")]),_:3},16,["model","rules","label-width","label-placement"])}}})},23618(e,t,l){l.d(t,{A:()=>o});var a=l(24259),s=l(90290),i=l(12532);let n={class:"ml-8px text-14px"},o=(0,s.pM)({__name:"index",props:(0,s.zz)({storeKey:{default:""},pageSizes:{default:()=>[10,20,50,100]},showTotal:{type:Boolean,default:!0},showSizePicker:{type:Boolean,default:!0},showQuickJumper:{type:Boolean,default:!0},onUpdatePage:{}},{page:{},pageModifiers:{},pageSize:{},pageSizeModifiers:{}}),emits:(0,s.zz)(["refresh"],["update:page","update:pageSize"]),setup(e,t){let{emit:l}=t,o=(0,s.EW)(()=>{let{storeKey:t}=e;return t?`${t}-page`:""}),r=(0,s.fn)(e,"page"),u=(0,s.fn)(e,"pageSize"),p=t=>{var a;null==(a=e.onUpdatePage)||a.call(e,t),l("refresh")},c=t=>{var a;r.value=1,null==(a=e.onUpdatePage)||a.call(e,1),d(t),l("refresh")},d=e=>{o.value&&(0,i.ZB)(o.value,String(e))};if(o.value){let e=(0,i.Lg)(o.value);e&&(u.value=(0,i.WZ)(e))}return(t,l)=>{let i=a.A;return(0,s.uX)(),(0,s.Wv)(i,(0,s.v6)(t.$attrs,{page:r.value,"onUpdate:page":[l[0]||(l[0]=e=>r.value=e),p],"page-size":u.value,"onUpdate:pageSize":[l[1]||(l[1]=e=>u.value=e),c],"show-size-picker":e.showSizePicker,"show-quick-jumper":e.showQuickJumper,"page-sizes":e.pageSizes,"display-order":["pages","size-picker","quick-jumper"]}),(0,s.eX)({_:2},[e.showTotal?{name:"suffix",fn:(0,s.k6)(e=>{let{itemCount:t}=e;return[(0,s.Lk)("span",n," Total "+(0,s.v_)(t),1)]}),key:"0"}:void 0]),1040,["page","page-size","show-size-picker","show-quick-jumper","page-sizes"])}}})},14588(e,t,l){l.r(t),l.d(t,{default:()=>w});var a=l(63919),s=l(23618),i=l(77625),n=l(28391),o=l(90290),r=l(85684),u=l(27546),p=l(12532),c=l(6943),d=l(60045),g=l(85020);let{t:v}=l(46831).Ay.global,b=e=>g.K.get("/mail_bcc/list",{params:e});var f=l(13665),m=l(45679),k=l(95403),h=l(60801),y=l(45449),R=l(3401);let _=(0,o.pM)({__name:"BccForm",setup(e){let{t}=(0,R.s9)(),l=(0,o.KR)(!1),a=(0,o.EW)(()=>l.value?t("settings.bcc.edit"):t("settings.bcc.add")),s=(0,o.rk)("formRef"),i=(0,o.KR)(0),n=(0,o.Kh)({address:"",goto:"",type:"sender",active:1}),r=(0,o.EW)(()=>[{label:t("settings.bcc.types.sender"),value:"sender"},{label:t("settings.bcc.types.recipient"),value:"recipient"}]),u={},[p,c]=(0,d.h)({onChangeState:e=>{if(e){let e=c.getState(),{row:t}=e;l.value=e.isEdit,t&&(i.value=t.id,n.address=t.address,n.goto=t.goto,n.type=t.type,n.active=t.active)}else i.value=0,n.address="",n.goto="",n.type="sender",n.active=1},onConfirm:async()=>{var e;if(await (null==(e=s.value)?void 0:e.validate()),l.value){let e;await (e={id:i.value,...(0,o.ux)(n)},g.K.post("/mail_bcc/edit",e,{fetchOptions:{loading:v("settings.bcc.loading.saving"),successMessage:!0}}))}else{let e;await (e=(0,o.ux)(n),g.K.post("/mail_bcc/add",e,{fetchOptions:{loading:v("settings.bcc.loading.adding"),successMessage:!0}}))}c.getState().refresh()}});return(e,i)=>{let c=y.A,d=h.Ay,g=k.A,v=m.A,b=f.A;return(0,o.uX)(),(0,o.Wv)((0,o.R1)(p),{title:(0,o.R1)(a),width:"500"},{default:(0,o.k6)(()=>[(0,o.bF)(b,{ref_key:"formRef",ref:s,class:"pt-8px",model:(0,o.R1)(n),rules:u},{default:(0,o.k6)(()=>[(0,o.bF)(d,{label:(0,o.R1)(t)("settings.bcc.needCopy"),path:"user"},{default:(0,o.k6)(()=>[(0,o.bF)(c,{value:(0,o.R1)(n).address,"onUpdate:value":i[0]||(i[0]=e=>(0,o.R1)(n).address=e),disabled:(0,o.R1)(l),placeholder:(0,o.R1)(t)("settings.bcc.placeholders.needCopy")},null,8,["value","disabled","placeholder"])]),_:1},8,["label"]),(0,o.bF)(d,{label:(0,o.R1)(t)("settings.bcc.copyTo"),path:"forward_user"},{default:(0,o.k6)(()=>[(0,o.bF)(c,{value:(0,o.R1)(n).goto,"onUpdate:value":i[1]||(i[1]=e=>(0,o.R1)(n).goto=e),placeholder:(0,o.R1)(t)("settings.bcc.placeholders.copyTo")},null,8,["value","placeholder"])]),_:1},8,["label"]),(0,o.bF)(d,{label:(0,o.R1)(t)("settings.bcc.type"),path:"type"},{default:(0,o.k6)(()=>[(0,o.bF)(g,{value:(0,o.R1)(n).type,"onUpdate:value":i[2]||(i[2]=e=>(0,o.R1)(n).type=e),options:(0,o.R1)(r)},null,8,["value","options"])]),_:1},8,["label"]),(0,o.bF)(d,{label:(0,o.R1)(t)("settings.bcc.status"),"show-feedback":!1},{default:(0,o.k6)(()=>[(0,o.bF)(v,{value:(0,o.R1)(n).active,"onUpdate:value":i[3]||(i[3]=e=>(0,o.R1)(n).active=e),"checked-value":1,"unchecked-value":0},null,8,["value"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["title"])}}});function x(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,o.vv)(e)}let w=(0,o.pM)({__name:"index",setup(e){let{t}=(0,R.s9)(),{tableParams:l,tableList:f,loading:m,tableTotal:k,getTableData:h}=(0,c.i)({loading:!0,immediate:!0,params:{page:1,page_size:10,domain:"",keyword:""},fetchFn:b}),y=(0,o.KR)([{key:"address",title:()=>t("settings.bcc.needCopy"),ellipsis:{tooltip:!0}},{key:"goto",title:()=>t("settings.bcc.copyTo"),ellipsis:{tooltip:!0}},{key:"domain",title:()=>t("settings.bcc.domain"),ellipsis:{tooltip:!0}},{key:"type",title:()=>t("settings.bcc.type"),render:e=>t(`settings.bcc.types.${e.type}`)},{key:"active",title:()=>t("settings.bcc.status"),render:e=>(0,o.bF)("div",{class:["text-16px",1===e.active?"text-primary":"text-error"]},[(0,o.bF)("i",{class:[1===e.active?"i-mdi-success-circle":"i-mdi-remove-circle"]},null)])},{title:t("common.columns.actions"),key:"actions",align:"right",width:120,render:e=>{let l,a;return(0,o.bF)(r.A,{inline:!0},{default:()=>[(0,o.bF)(u.Ay,{type:"primary",text:!0,onClick:()=>{S(e)}},x(l=t("common.actions.edit"))?l:{default:()=>[l]}),(0,o.bF)(u.Ay,{type:"error",text:!0,onClick:()=>{C(e)}},x(a=t("common.actions.delete"))?a:{default:()=>[a]})]})}}]),[w,A]=(0,d.h)({component:_,state:{isEdit:!1,refresh:h}}),F=()=>{A.setState({isEdit:!1,row:null}),A.open()},z=()=>{h(!0)},S=e=>{A.setState({isEdit:!0,row:e}),A.open()},C=e=>{(0,p.lJ)({title:t("settings.bcc.delete.title",{address:e.address}),content:t("settings.bcc.delete.content"),confirmText:t("common.actions.delete"),confirmType:"error",onConfirm:async()=>{let t;await (t={id:e.id},g.K.post("/mail_bcc/delete",t,{fetchOptions:{loading:v("settings.bcc.loading.deleting"),successMessage:!0}})),h()}})};return(e,t)=>{let r=n.A,p=i.A,c=s.A,d=a.A;return(0,o.uX)(),(0,o.Wv)(d,null,{toolsLeft:(0,o.k6)(()=>[(0,o.bF)((0,o.R1)(u.Ay),{type:"primary",onClick:F},{default:(0,o.k6)(()=>[(0,o.eW)((0,o.v_)(e.$t("settings.bcc.add")),1)]),_:1})]),toolsRight:(0,o.k6)(()=>[(0,o.bF)((0,o.R1)(u.Ay),{onClick:z},{default:(0,o.k6)(()=>[(0,o.eW)((0,o.v_)(e.$t("common.actions.refresh")),1)]),_:1})]),table:(0,o.k6)(()=>[(0,o.bF)(p,{loading:(0,o.R1)(m),columns:(0,o.R1)(y),data:(0,o.R1)(f)},{empty:(0,o.k6)(()=>[(0,o.bF)(r)]),_:1},8,["loading","columns","data"])]),pageRight:(0,o.k6)(()=>[(0,o.bF)(c,{page:(0,o.R1)(l).page,"onUpdate:page":t[0]||(t[0]=e=>(0,o.R1)(l).page=e),"page-size":(0,o.R1)(l).page_size,"onUpdate:pageSize":t[1]||(t[1]=e=>(0,o.R1)(l).page_size=e),"item-count":(0,o.R1)(k),onRefresh:(0,o.R1)(h)},null,8,["page","page-size","item-count","onRefresh"])]),modal:(0,o.k6)(()=>[(0,o.bF)((0,o.R1)(w))]),_:1})}}})}}]);