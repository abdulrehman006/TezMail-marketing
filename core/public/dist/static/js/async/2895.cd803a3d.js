"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["2895"],{44704(e,l,t){t.r(l),t.d(l,{default:()=>tf});var a=t(90290),u=t(10810);let n=(0,u.nY)("email-editor-store",()=>{let e=(0,a.KR)("1.0"),l=(0,a.KR)({meta:{version:e.value,createdAt:"",updatedAt:""},style:{backgroundColor:"#ffffff",width:"500px",fontFamily:"PingFang SC, Microsoft YaHei"}}),t=(0,a.KR)([]),u=(0,a.KR)({}),n=(0,a.KR)({}),r=(0,a.KR)({}),o=(0,a.KR)({}),i=(0,a.KR)({}),d=(0,a.KR)({}),v=(0,a.KR)("");return{version:e,pageConfig:l,columnsSource:t,columnsMap:u,columnsConfigMap:n,cellMap:r,cellConfigMap:o,blockMap:i,blockConfigMap:d,selectedBlockKey:v,selectedBlockType:(0,a.KR)(""),saveFn:(0,a.KR)(async()=>!1)}});var r=t(9703),o=t(12532);function i(){let e=e=>"border"===e||"padding"===e||"borderRadius"===e,l=e=>e.charAt(0).toUpperCase()+e.slice(1);return{configToStyle:t=>{let a={};return Object.entries(t).forEach(t=>{let[u,n]=t;e(u)&&(0,o.Gv)(n)&&Object.assign(a,((e,t)=>{let a={},u={top:"TopLeft",right:"TopRight",bottom:"BottomRight",left:"BottomLeft"};if(t.more){let n=["top","right","bottom","left"];switch(e){case"border":n.forEach(e=>{let u=t[e];(0,o.Gv)(u)&&"0"!==u.width&&(a[`border${l(e)}`]=`${u.width} ${u.style} ${u.color||"transparent"}`)});break;case"padding":n.forEach(e=>{let u=t[e];(0,r.A)(u)&&"0"!==u&&(a[`padding${l(e)}`]=u)});break;case"borderRadius":n.forEach(e=>{let l=t[e];(0,r.A)(l)&&"0"!==l&&(a[`border${u[e]}Radius`]=l)})}}else"border"===e&&(0,o.Gv)(t.all)&&"0"!==t.all.width?a.border=`${t.all.width} ${t.all.style} ${t.all.color||"transparent"}`:("padding"===e||"borderRadius"===e)&&(0,r.A)(t.all)&&(a[e]=t.all);return a})(u,n)),!e(u)&&(0,r.A)(n)&&(a[u]=n),!e(u)&&(0,o.Gv)(n)&&"borderTop"===u&&(0,o.Gv)(n)&&(a.borderTop=`${n.width} ${n.style} ${n.color||"transparent"}`)}),a}}}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,l=new Uint8Array(e);return crypto.getRandomValues(l),Array.from(l,e=>e.toString(16).padStart(2,"0")).join("").slice(0,e)}let v={key:"",name:"Columns",type:"columns",meta:{version:"",createdAt:"",updatedAt:""},attr:{},style:{backgroundColor:"",padding:{more:!1,all:"0",top:"0",left:"0",right:"0",bottom:"0"}},containerStyle:{backgroundColor:""}},s={key:"",name:"Cell",type:"cell",meta:{version:"",createdAt:"",updatedAt:""},attr:{},style:{backgroundColor:"",padding:{more:!1,all:"0",top:"0",left:"0",right:"0",bottom:"0"},border:{more:!1,all:{color:"",width:"0",style:"solid"},top:{color:"",width:"0",style:"solid"},right:{color:"",width:"0",style:"solid"},bottom:{color:"",width:"0",style:"solid"},left:{color:"",width:"0",style:"solid"}}},containerStyle:{}},p=new Map([["button",{key:"",name:"Button",type:"button",meta:{version:"",createdAt:"",updatedAt:""},attr:{href:"#",target:"_blank",content:"Button Text"},style:{display:"inline-block",backgroundColor:"#20A53A",color:"#fff",width:"auto",fontWeight:"normal",fontSize:"14px",lineHeight:"120%",letterSpacing:"0px",boxSizing:"border-box",textDecoration:"none",padding:{more:!0,all:"0",top:"10px",left:"20px",right:"20px",bottom:"10px"},border:{more:!1,all:{color:"",width:"0",style:"solid"},top:{color:"",width:"0",style:"solid"},right:{color:"",width:"0",style:"solid"},bottom:{color:"",width:"0",style:"solid"},left:{color:"",width:"0",style:"solid"}},borderRadius:{more:!1,all:"4px",top:"0",left:"0",right:"0",bottom:"0"}},containerStyle:{textAlign:"center",padding:{more:!1,all:"10px",top:"0",left:"0",right:"0",bottom:"0"}}}],["link",{key:"",name:"Link",type:"link",meta:{version:"",createdAt:"",updatedAt:""},attr:{href:"",target:"_blank",content:"Link Text"},style:{display:"inline-block",color:"#333",fontWeight:"normal",fontSize:"14px",lineHeight:"120%",letterSpacing:"0px",textDecoration:"none"},containerStyle:{textAlign:"center",padding:{more:!1,all:"10px",top:"0",left:"0",right:"0",bottom:"0"}}}],["divider",{key:"",name:"Divider",type:"divider",meta:{version:"",createdAt:"",updatedAt:""},attr:{},style:{display:"inline-block",width:"100%",margin:"0px",verticalAlign:"middle",boxSizing:"border-box",borderTop:{color:"#bbbbbb",width:"1px",style:"solid"}},containerStyle:{lineHeight:"1px",textAlign:"center",padding:{more:!0,all:"0",top:"16px",left:"10px",right:"10px",bottom:"16px"}}}],["header",{key:"",name:"Header",type:"header",meta:{version:"",createdAt:"",updatedAt:""},attr:{content:"Header"},style:{display:"inline-block",color:"#333",fontWeight:"normal",fontSize:"22px",lineHeight:"140%",letterSpacing:"0px"},containerStyle:{textAlign:"left",padding:{more:!1,all:"10px",top:"0",left:"0",right:"0",bottom:"0"}}}],["text",{key:"",name:"Text",type:"text",meta:{version:"",createdAt:"",updatedAt:""},attr:{content:"Text"},style:{display:"inline-block",color:"#333",fontWeight:"normal",fontSize:"14px",lineHeight:"120%",letterSpacing:"0px"},containerStyle:{textAlign:"left",padding:{more:!1,all:"10px",top:"0",left:"0",right:"0",bottom:"0"}}}],["image",{key:"",name:"Image",type:"image",meta:{version:"",createdAt:"",updatedAt:""},attr:{href:"",target:"_blank",src:"",alt:""},style:{display:"inline-block",width:"100%",boxSizing:"border-box",textDecoration:"none"},containerStyle:{textAlign:"center",padding:{more:!1,all:"10px",top:"0",left:"0",right:"0",bottom:"0"}}}],["menu",{key:"",name:"Menu",type:"menu",meta:{version:"",createdAt:"",updatedAt:""},attr:{links:[{id:d(6),label:"Menu",href:""},{id:d(6),label:"Menu",href:""}]},style:{display:"inline-block",fontWeight:"normal",fontSize:"14px",letterSpacing:"0px",color:"#333",textDecoration:"none",padding:{more:!0,all:"",top:"5px",left:"15px",right:"15px",bottom:"5px"}},containerStyle:{textAlign:"left",padding:{more:!1,all:"10px",top:"0",left:"0",right:"0",bottom:"0"}}}]]),c=(0,a.h)("div",{style:{display:"block",padding:"10px",lineHeight:"140%",color:"#999",textAlign:"center",fontSize:"12px"}},[(0,a.h)("span","Powered by "),(0,a.h)("a",{href:"https://www.billionmail.com",target:"_blank",style:{color:"#999",textDecoration:"underline"}},"BillionMail")]),y=()=>{let e=n(),{version:l,columnsSource:t,columnsMap:r,columnsConfigMap:o,cellMap:i,cellConfigMap:d,blockMap:v,blockConfigMap:s,pageConfig:p,selectedBlockKey:c,selectedBlockType:y,saveFn:b}=(0,u.bP)(e);return{saveFn:b,getData:()=>JSON.stringify({version:l.value,pageConfig:(0,a.ux)(p.value),blockMap:(0,a.ux)(v.value),blockConfigMap:(0,a.ux)(s.value),cellMap:(0,a.ux)(i.value),cellConfigMap:(0,a.ux)(d.value),columnsConfigMap:(0,a.ux)(o.value),columnsMap:(0,a.ux)(r.value),columnsSource:(0,a.ux)(t.value)}),setData:e=>{let{parsedData:l}={parsedData:(e=>{try{return JSON.parse(e)}catch{return null}})(e)};l&&(p.value=l.pageConfig,v.value=l.blockMap,s.value=l.blockConfigMap,i.value=l.cellMap,d.value=l.cellConfigMap,o.value=l.columnsConfigMap,r.value=l.columnsMap,t.value=l.columnsSource)},resetData:()=>{v.value={},s.value={},i.value={},d.value={},o.value={},r.value={},t.value=[],c.value="",y.value=""},setSaveFn:e=>{b.value=e},autoSaveFn:()=>{let e=null;e=window.setTimeout(()=>{b.value()},300)}}},b='{"version":"1.0","pageConfig":{"meta":{"version":"1.0","createdAt":"","updatedAt":""},"style":{"backgroundColor":"#ffffff","width":"500px"}},"blockMap":{"5465e678c463":{"key":"5465e678c463","type":"divider","name":"Divider"},"cce8bbc509b0":{"key":"cce8bbc509b0","type":"link","name":"Link"}},"blockConfigMap":{"5465e678c463":{"key":"5465e678c463","name":"Divider","type":"divider","meta":{"version":"1.0","createdAt":"2025-05-29 15:08:46","updatedAt":"2025-05-29 15:08:46"},"attr":{},"style":{"display":"inline-block","width":"100%","margin":"0px","verticalAlign":"middle","boxSizing":"border-box","borderTop":{"color":"#bbbbbb","width":"1px","style":"solid"}},"containerStyle":{"lineHeight":"1px","textAlign":"center","padding":{"more":true,"all":"0","top":"16px","left":"10px","right":"10px","bottom":"16px"}}},"cce8bbc509b0":{"key":"cce8bbc509b0","name":"Link","type":"link","meta":{"version":"1.0","createdAt":"2025-05-29 15:08:50","updatedAt":"2025-05-29 15:08:50"},"attr":{"href":"{{ UnsubscribeURL . }}","target":"_blank","content":"<p><u>Unsubscribe</u></p>"},"style":{"display":"inline-block","color":"#A2A2A2FF","fontWeight":"normal","fontSize":"12px","lineHeight":"120%","letterSpacing":"0px","textDecoration":"none"},"containerStyle":{"textAlign":"center","padding":{"more":false,"all":"10px","top":"0","left":"0","right":"0","bottom":"0"}}}},"cellMap":{"f97369cdf06b":{"key":"f97369cdf06b","width":100,"name":"Cell","type":"cell","children":[]},"aa00c13d49a1":{"key":"aa00c13d49a1","width":100,"name":"Cell","type":"cell","children":["5465e678c463","cce8bbc509b0"]}},"cellConfigMap":{"f97369cdf06b":{"key":"f97369cdf06b","name":"Cell","type":"cell","meta":{"version":"1.0","createdAt":"2025-05-29 15:08:43","updatedAt":"2025-05-29 15:08:43"},"attr":{},"style":{"backgroundColor":"","padding":{"more":false,"all":"0","top":"0","left":"0","right":"0","bottom":"0"},"border":{"more":false,"all":{"color":"","width":"0","style":"solid"},"top":{"color":"","width":"0","style":"solid"},"right":{"color":"","width":"0","style":"solid"},"bottom":{"color":"","width":"0","style":"solid"},"left":{"color":"","width":"0","style":"solid"}}},"containerStyle":{}},"aa00c13d49a1":{"key":"aa00c13d49a1","name":"Cell","type":"cell","meta":{"version":"1.0","createdAt":"2025-05-29 15:08:45","updatedAt":"2025-05-29 15:08:45"},"attr":{},"style":{"backgroundColor":"","padding":{"more":false,"all":"0","top":"0","left":"0","right":"0","bottom":"0"},"border":{"more":false,"all":{"color":"","width":"0","style":"solid"},"top":{"color":"","width":"0","style":"solid"},"right":{"color":"","width":"0","style":"solid"},"bottom":{"color":"","width":"0","style":"solid"},"left":{"color":"","width":"0","style":"solid"}}},"containerStyle":{}}},"columnsConfigMap":{"32e55869088d":{"key":"32e55869088d","name":"Columns","type":"columns","meta":{"version":"1.0","createdAt":"2025-05-29 15:08:43","updatedAt":"2025-05-29 15:08:43"},"attr":{},"style":{"backgroundColor":"","padding":{"more":false,"all":"0","top":"0","left":"0","right":"0","bottom":"0"}},"containerStyle":{"backgroundColor":""}},"876dd2390f51":{"key":"876dd2390f51","name":"Columns","type":"columns","meta":{"version":"1.0","createdAt":"2025-05-29 15:08:45","updatedAt":"2025-05-29 15:08:45"},"attr":{},"style":{"backgroundColor":"","padding":{"more":false,"all":"0","top":"0","left":"0","right":"0","bottom":"0"}},"containerStyle":{"backgroundColor":""}}},"columnsMap":{"32e55869088d":{"key":"32e55869088d","type":"columns","name":"Columns","children":["f97369cdf06b"]},"876dd2390f51":{"key":"876dd2390f51","type":"columns","name":"Columns","children":["aa00c13d49a1"]}},"columnsSource":["32e55869088d","876dd2390f51"]}';var m=t(77679),g=t(88802);let f=Symbol("EmailEditorContext"),k=(0,a.pM)({__name:"EditorProvider",setup(e){var l;return l={store:n()},(0,a.Gt)(f,l),(e,l)=>((0,a.uX)(),(0,a.Wv)((0,a.R1)(m.QP),{backend:(0,a.R1)(g.t)},{default:(0,a.k6)(()=>[(0,a.RG)(e.$slots,"default")]),_:3},8,["backend"]))}});var h=t(74022),x=t(39350),_=t(27060);let C=()=>{let e=n(),{version:l,selectedBlockKey:t,selectedBlockType:r,columnsSource:o,columnsMap:i,columnsConfigMap:c,cellMap:b,cellConfigMap:m,blockMap:g,blockConfigMap:f,pageConfig:k}=(0,u.bP)(e),{autoSaveFn:h}=y(),C=(0,a.EW)(()=>o.value.map(e=>i.value[e])),R=(e,l)=>{t.value=e,r.value=l},w=e=>{let t=new Date,a=(0,_.A)(v);return a.key=e,a.meta.version=l.value,a.meta.createdAt=(0,x.GP)(t,"yyyy-MM-dd HH:mm:ss"),a.meta.updatedAt=(0,x.GP)(t,"yyyy-MM-dd HH:mm:ss"),a},L=()=>{let e=d(),l={key:e,width:100,name:"Cell",type:"cell",children:[]};return b.value[e]=l,m.value[e]=A(l.key),l},A=e=>{let t=new Date,a=(0,_.A)(s);return a.key=e,a.meta.version=l.value,a.meta.createdAt=(0,x.GP)(t,"yyyy-MM-dd HH:mm:ss"),a.meta.updatedAt=(0,x.GP)(t,"yyyy-MM-dd HH:mm:ss"),a},F=(e,l)=>{let t=i.value[e];if(t){let e=t.children.findIndex(e=>e===l);e>-1&&(t.children.splice(e,1),delete b.value[l])}},M=(e,l,t)=>{let a=b.value[e];if(!a||!a.children)return;let u=a.children[l];u&&l!==t&&(a.children.splice(l,1),a.children.splice(l<t?t-1:t,0,u),h())},E=function(e,t){let a=!(arguments.length>2)||void 0===arguments[2]||arguments[2],u=(0,_.A)(g.value[t]),n=(0,_.A)(f.value[t]),r=b.value[e];if(r){let e=d();u.key=e,n.key=e,n.meta={version:l.value,createdAt:(0,x.GP)(new Date,"yyyy-MM-dd HH:mm:ss"),updatedAt:(0,x.GP)(new Date,"yyyy-MM-dd HH:mm:ss")};let a=r.children.findIndex(e=>e===t);g.value[e]=u,f.value[e]=n,a?r.children.splice(a+1,0,e):r.children.push(e)}a&&h()},K=function(e,l){let t=!(arguments.length>2)||void 0===arguments[2]||arguments[2],a=b.value[e];if(a){let e=a.children.findIndex(e=>e===l);e>-1&&(R("",""),a.children.splice(e,1),delete g.value[l],delete f.value[l])}t&&h()};return{columnsSource:o,columnsMap:i,columnsMaps:C,columnsConfigMap:c,cellMap:b,cellConfigMap:m,blockMap:g,blockConfigMap:f,selectedBlockKey:t,selectedBlockType:r,pageConfig:k,selectBlock:R,insertColumnSourceAt:e=>{var l;let t,a,u=(t=w((l=a={key:d(),type:"columns",name:"Columns",children:[]}).key),c.value[l.key]=t,a);i.value[u.key]=u,(e=>{let l=i.value[e];if(l){let e=L();l.children.push(e.key)}})(u.key),o.value.splice(e,0,u.key),h()},moveColumnSource:(e,l)=>{if(e<0||e>=o.value.length||l<0||l>o.value.length)return;let t=o.value[e],a=[...o.value];a.splice(e,1),a.splice(e<l?l-1:l,0,t),o.value=a,h()},generateNewCell:L,applyNewWidthColumnsInCell:(e,l)=>{let t=i.value[e];if(!t||!i.value[e])return;let a=t.children.length,u=l.length,n=u-a;if(n>0)for(let e=0;e<n;e++){let e=L();t.children.push(e.key)}else n<0&&t.children.slice(u,Math.abs(n)).forEach(l=>{F(e,l)});l.forEach((e,l)=>{t.children[l]&&(b.value[t.children[l]].width=e)}),h()},delColumnsInCell:F,insertBlockToCell:(e,t,a)=>{let u=b.value[t];if(u){let t={key:d(),type:a.type,name:`${a.name}`},n=p.get(t.type);if(n){let e=new Date,a=(0,_.A)(n);a.key=t.key,a.name=t.name,a.meta.version=l.value,a.meta.createdAt=(0,x.GP)(e,"yyyy-MM-dd HH:mm:ss"),a.meta.updatedAt=(0,x.GP)(e,"yyyy-MM-dd HH:mm:ss"),f.value[t.key]=a}g.value[t.key]=t,u.children.splice(e,0,t.key),h()}},moveBlockInCell:M,moveBlockBetweenCells:(e,l,t,a,u)=>{if(e===l)return M(e,t,a);let n=b.value[e],r=b.value[l];if(!n||!n.children||!r||!r.children||n.children[t]!==u)return;let o=n.children.splice(t,1);r.children.splice(a,0,o[0]),h()},duplicateBlock:E,duplicateColumn:e=>{let t=(0,_.A)(i.value[e]),a=(0,_.A)(c.value[e]),u=d();t.key=u,t.children=[],a.key=u,a.meta={version:l.value,createdAt:(0,x.GP)(new Date,"yyyy-MM-dd HH:mm:ss"),updatedAt:(0,x.GP)(new Date,"yyyy-MM-dd HH:mm:ss")},i.value[u]=t,c.value[u]=a;let n=o.value.findIndex(l=>l===e);o.value.splice(n+1,0,u),i.value[e].children.forEach(e=>{let t,a,n,r;t=(0,_.A)(b.value[e]),a=(0,_.A)(m.value[e]),t.key=n=d(),t.children=[],a.key=n,a.meta={version:l.value,createdAt:(0,x.GP)(new Date,"yyyy-MM-dd HH:mm:ss"),updatedAt:(0,x.GP)(new Date,"yyyy-MM-dd HH:mm:ss")},b.value[n]=t,m.value[n]=a,b.value[e].children.forEach(e=>{E(n,e,!1)}),(r=i.value[u])&&r.children.push(n)}),h()},removeBlock:K,removeColumn:e=>{let l=o.value.findIndex(l=>l===e);l>-1&&(R("",""),i.value[e].children.forEach(l=>{let t=b.value[l],a=i.value[e];if(t){t.children.forEach(e=>{K(l,e,!1)});let e=a.children.findIndex(e=>e===l);e>-1&&(delete b.value[l],delete m.value[l],a.children.splice(e,1))}}),delete i.value[e],delete c.value[e],o.value.splice(l,1)),h()}}},R={class:"block-toolbar"},w=(0,a.pM)({__name:"Toolbar",props:{cellKey:{type:String,required:!0},data:{type:Object,required:!0}},setup(e){let{duplicateBlock:l,duplicateColumn:t,removeBlock:u,removeColumn:n}=C(),r=()=>{"columns"!==e.data.type?l(e.cellKey,e.data.key):t(e.data.key)},o=()=>{"columns"!==e.data.type?u(e.cellKey,e.data.key):n(e.data.key)};return(e,l)=>((0,a.uX)(),(0,a.CE)("div",R,[(0,a.Lk)("button",{class:"tool-btn",onClick:(0,a.D$)(r,["stop"])},[...l[0]||(l[0]=[(0,a.Lk)("i",{class:"i-ri:file-copy-line text-16px text-#fff"},null,-1)])]),(0,a.Lk)("button",{class:"tool-btn",onClick:(0,a.D$)(o,["stop"])},[...l[1]||(l[1]=[(0,a.Lk)("i",{class:"i-mdi:delete-outline text-16px text-#fff"},null,-1)])])]))}});var L=t(64901);let A=(0,L.default)(w,[["__scopeId","data-v-d931b0a5"]]),F=["data-block-id"],M={class:"block-section"},E={class:"block-content"},K=(0,a.pM)({__name:"Section",props:{data:{type:Object,required:!0},cellKey:{type:String,default:""},blockType:{type:String,required:!0},blockIndex:{type:Number,default:-1}},emits:["select","unSelect"],setup(e,l){let{emit:t}=l,{selectedBlockKey:u,columnsConfigMap:n,blockConfigMap:r,selectBlock:o}=C(),{configToStyle:d}=i(),v=(0,a.EW)(()=>u.value===e.data.key),s=()=>{o(e.data.key,e.data.type),t("select")},p=(0,a.EW)(()=>d("columns"===e.data.type?n.value[e.data.key].containerStyle:r.value[e.data.key].containerStyle)),[c,y,b]=(0,m.i3)(()=>({type:"SORT_BASE_BLOCK",item:()=>({type:"SORT_BASE_BLOCK",sourceIndex:e.blockIndex,sourceCellKey:e.cellKey,blockData:(0,_.A)(e.data)}),collect:e=>({isDragging:e.isDragging()})})),[g,f]=(0,m.i3)(()=>({type:"SORT_COLUMNS_BLOCK",item:()=>({type:"SORT_COLUMNS_BLOCK",sourceIndex:e.blockIndex,blockData:(0,_.A)(e.data)}),collect:e=>({isDragging:e.isDragging()})})),k=(0,a.EW)(()=>c.value.isDragging||g.value.isDragging);return(0,a.wB)(()=>k.value,e=>{!0===e&&t("unSelect")}),(0,a.wB)(()=>v.value,(e,l)=>{!1===e&&!0===l&&t("unSelect")}),(l,t)=>((0,a.uX)(),(0,a.CE)("div",{ref:(0,a.R1)(b),class:(0,a.C4)(["block-base",[`block-${e.blockType}`,{"is-selected":(0,a.R1)(v)},{"is-dragging":(0,a.R1)(k)}]]),"data-block-id":e.data.key,style:(0,a.Tr)((0,a.R1)(p)),onClick:(0,a.D$)(s,["stop"])},[(0,a.Lk)("div",M,[(0,a.bo)((0,a.bF)(A,{"cell-key":e.cellKey,data:e.data},null,8,["cell-key","data"]),[[a.aG,(0,a.R1)(v)&&!(0,a.R1)(k)]]),"columns"===e.data.type?((0,a.uX)(),(0,a.CE)("div",{key:0,ref:(0,a.R1)(f),class:"drag-handle columns-drag-handle"},[...t[0]||(t[0]=[(0,a.Lk)("i",{class:"drag-icon"},"≡",-1)])],512)):(0,a.Q3)("",!0),"columns"!==e.data.type?((0,a.uX)(),(0,a.CE)("div",{key:1,ref:(0,a.R1)(y),class:"drag-handle"},[...t[1]||(t[1]=[(0,a.Lk)("i",{class:"drag-icon"},"≡",-1)])],512)):(0,a.Q3)("",!0)]),(0,a.Lk)("div",E,[(0,a.RG)(l.$slots,"default")])],14,F))}}),S=(0,L.default)(K,[["__scopeId","data-v-bdadebca"]]);var W=t(52246);t(74468);var U=t(1309);let I={ref:"editorBoxRef",class:"editor-box"},D=(0,a.pM)({__name:"Editor",props:(0,a.zz)({type:{type:String,default:"button"}},{value:{},valueModifiers:{}}),emits:["update:value"],setup(e,l){let{expose:t}=l,u=(0,a.IJ)(void 0),n=(0,a.rk)("toolbarDomRef"),r=(0,a.rk)("editorDomRef"),o=(0,a.fn)(e,"value");(0,U.xL)("en");let i=(0,a.KR)(!1),d=!1,v=()=>{if(!u.value||!n.value)return;let e=u.value.getEditableContainer();if(!e)return;let l=e.getBoundingClientRect(),t=n.value.querySelector(".w-e-toolbar"),a=300;t&&(a=t.getBoundingClientRect().width);let r=l.left+(l.width-a)/2;n.value.style.top=`${l.top-56}px`,n.value.style.left=`${r}px`},s=e=>{u.value=e,(0,a.dY)(()=>{window.addEventListener("resize",v);let l=U.ok.getToolbar(e);l&&l.$box.find('button[data-menu-key="insertLink"]').on("click",()=>{d=!0})})},p=()=>{i.value=!0,(0,a.dY)(()=>{v()})},c=()=>{if(d){d=!1;return}i.value=!1};return(0,a.sV)(()=>{(()=>{if(!r.value)return;let l=(0,U.ie)({selector:r.value,html:o.value,mode:"simple",config:{autoFocus:!1,scroll:!1,placeholder:"",onChange(e){o.value=e.getHtml()},onCreated:s,onFocus:p,onBlur:c}});n.value&&(0,U.Qr)({editor:l,selector:n.value,mode:"default",config:{toolbarKeys:(()=>{switch(e.type){case"button":return["bold","underline","italic","through"];case"text":return["bold","underline","italic","through","sup","sub","color","bgColor","bulletedList","numberedList","insertLink"];case"header":return["bold","underline","italic","through","color","bgColor","bulletedList","numberedList","insertLink"]}})()}})})()}),(0,a.xo)(()=>{let e=u.value;null!=e&&(e.destroy(),window.removeEventListener("resize",v))}),t({focus:()=>{var e;i.value=!0,null==(e=u.value)||e.focus()},blur:()=>{i.value=!1}}),(e,l)=>((0,a.uX)(),(0,a.CE)("div",I,[(0,a.bo)((0,a.Lk)("div",{ref_key:"toolbarDomRef",ref:n,class:"toolbar"},null,512),[[a.aG,(0,a.R1)(i)]]),(0,a.Lk)("div",{ref_key:"editorDomRef",ref:r,class:"editor"},null,512)],512))}}),X=(0,L.default)(D,[["__scopeId","data-v-8e56ddd8"]]),B=(0,a.pM)({__name:"Button",props:{data:{type:Object,required:!0},cellKey:{type:String,required:!0},blockIndex:{type:Number,required:!0}},setup(e){let{blockConfigMap:l}=C(),{configToStyle:t}=i(),u=(0,a.rk)("editorRef"),n=(0,a.EW)({get:()=>l.value[e.data.key].attr,set(t){l.value[e.data.key].attr=t}}),r=(0,a.EW)(()=>{let{style:a}=l.value[e.data.key];return{...t(a)}}),o=()=>{var e;null==(e=u.value)||e.focus()},d=()=>{var e;null==(e=u.value)||e.blur()};return(l,t)=>((0,a.uX)(),(0,a.Wv)(S,{data:e.data,"cell-key":e.cellKey,"block-type":e.data.type,"block-index":e.blockIndex,onSelect:o,onUnSelect:d},{default:(0,a.k6)(()=>[(0,a.Lk)("div",{style:(0,a.Tr)((0,a.R1)(r))},[(0,a.bF)(X,{ref_key:"editorRef",ref:u,value:(0,a.R1)(n).content,"onUpdate:value":t[0]||(t[0]=e=>(0,a.R1)(n).content=e)},null,8,["value"])],4)]),_:1},8,["data","cell-key","block-type","block-index"]))}}),O=(0,a.pM)({__name:"Link",props:{data:{type:Object,required:!0},cellKey:{type:String,required:!0},blockIndex:{type:Number,required:!0}},setup(e){let{blockConfigMap:l}=C(),{configToStyle:t}=i(),u=(0,a.rk)("editorRef"),n=(0,a.EW)({get:()=>l.value[e.data.key].attr,set(t){l.value[e.data.key].attr=t}}),r=(0,a.EW)(()=>{let{style:a}=l.value[e.data.key];return{...t(a)}}),o=()=>{var e;null==(e=u.value)||e.focus()},d=()=>{var e;null==(e=u.value)||e.blur()};return(l,t)=>((0,a.uX)(),(0,a.Wv)(S,{data:e.data,"cell-key":e.cellKey,"block-type":e.data.type,"block-index":e.blockIndex,onSelect:o,onUnSelect:d},{default:(0,a.k6)(()=>[(0,a.Lk)("div",{style:(0,a.Tr)((0,a.R1)(r))},[(0,a.bF)(X,{ref_key:"editorRef",ref:u,value:(0,a.R1)(n).content,"onUpdate:value":t[0]||(t[0]=e=>(0,a.R1)(n).content=e)},null,8,["value"])],4)]),_:1},8,["data","cell-key","block-type","block-index"]))}}),T=(0,a.pM)({__name:"Divider",props:{data:{type:Object,required:!0},cellKey:{type:String,required:!0},blockIndex:{type:Number,required:!0}},setup(e){let{blockConfigMap:l}=C(),{configToStyle:t}=i(),u=(0,a.EW)(()=>{let{style:a}=l.value[e.data.key];return{...t(a)}});return(l,t)=>((0,a.uX)(),(0,a.Wv)(S,{data:e.data,"cell-key":e.cellKey,"block-type":e.data.type,"block-index":e.blockIndex},{default:(0,a.k6)(()=>[(0,a.Lk)("hr",{style:(0,a.Tr)((0,a.R1)(u))},null,4)]),_:1},8,["data","cell-key","block-type","block-index"]))}}),H=(0,a.pM)({__name:"Header",props:{data:{type:Object,required:!0},cellKey:{type:String,required:!0},blockIndex:{type:Number,required:!0}},setup(e){let{blockConfigMap:l}=C(),{configToStyle:t}=i(),u=(0,a.rk)("editorRef"),n=(0,a.EW)({get:()=>l.value[e.data.key].attr,set(t){l.value[e.data.key].attr=t}}),r=(0,a.EW)(()=>{let{style:a}=l.value[e.data.key];return{...t(a),width:"100%"}}),o=()=>{var e;null==(e=u.value)||e.focus()},d=()=>{var e;null==(e=u.value)||e.blur()};return(l,t)=>((0,a.uX)(),(0,a.Wv)(S,{data:e.data,"cell-key":e.cellKey,"block-type":e.data.type,"block-index":e.blockIndex,onSelect:o,onUnSelect:d},{default:(0,a.k6)(()=>[(0,a.Lk)("div",{style:(0,a.Tr)((0,a.R1)(r))},[(0,a.bF)(X,{ref_key:"editorRef",ref:u,value:(0,a.R1)(n).content,"onUpdate:value":t[0]||(t[0]=e=>(0,a.R1)(n).content=e),type:"header"},null,8,["value"])],4)]),_:1},8,["data","cell-key","block-type","block-index"]))}}),P=(0,a.pM)({__name:"Text",props:{data:{type:Object,required:!0},cellKey:{type:String,required:!0},blockIndex:{type:Number,required:!0}},setup(e){let{blockConfigMap:l}=C(),{configToStyle:t}=i(),u=(0,a.rk)("editorRef"),n=(0,a.EW)({get:()=>l.value[e.data.key].attr,set(t){l.value[e.data.key].attr=t}}),r=(0,a.EW)(()=>{let{style:a}=l.value[e.data.key];return{...t(a),width:"100%"}}),o=()=>{var e;null==(e=u.value)||e.focus()},d=()=>{var e;null==(e=u.value)||e.blur()};return(l,t)=>((0,a.uX)(),(0,a.Wv)(S,{data:e.data,"cell-key":e.cellKey,"block-type":e.data.type,"block-index":e.blockIndex,onSelect:o,onUnSelect:d},{default:(0,a.k6)(()=>[(0,a.Lk)("div",{style:(0,a.Tr)((0,a.R1)(r))},[(0,a.bF)(X,{ref_key:"editorRef",ref:u,value:(0,a.R1)(n).content,"onUpdate:value":t[0]||(t[0]=e=>(0,a.R1)(n).content=e),type:"text"},null,8,["value"])],4)]),_:1},8,["data","cell-key","block-type","block-index"]))}}),z={class:"block-none"},$=(0,L.default)({},[["render",function(e,l){return(0,a.uX)(),(0,a.CE)("div",z,[(0,a.RG)(e.$slots,"default",{},void 0,!0)])}],["__scopeId","data-v-a71f4fbf"]]),N=["src","alt"],q=(0,a.pM)({__name:"Image",props:{data:{type:Object,required:!0},cellKey:{type:String,required:!0},blockIndex:{type:Number,required:!0}},setup(e){let{blockConfigMap:l}=C(),{configToStyle:t}=i(),u=(0,a.EW)(()=>{let{style:a}=l.value[e.data.key];return{...t(a)}}),n=(0,a.EW)({get:()=>l.value[e.data.key].attr,set(t){l.value[e.data.key].attr=t}});return(l,t)=>((0,a.uX)(),(0,a.Wv)(S,{data:e.data,"cell-key":e.cellKey,"block-type":e.data.type,"block-index":e.blockIndex},{default:(0,a.k6)(()=>[(0,a.Lk)("div",{style:(0,a.Tr)((0,a.R1)(u))},[(0,a.R1)(n).src?((0,a.uX)(),(0,a.CE)("img",{key:0,src:(0,a.R1)(n).src,alt:(0,a.R1)(n).alt},null,8,N)):((0,a.uX)(),(0,a.Wv)($,{key:1},{default:(0,a.k6)(()=>[...t[0]||(t[0]=[(0,a.eW)("Image",-1)])]),_:1}))],4)]),_:1},8,["data","cell-key","block-type","block-index"]))}}),G=(0,L.default)(q,[["__scopeId","data-v-d1b1f1a8"]]),j=(0,a.pM)({__name:"Menu",props:{data:{type:Object,required:!0},cellKey:{type:String,required:!0},blockIndex:{type:Number,required:!0}},setup(e){let{blockConfigMap:l}=C(),{configToStyle:t}=i(),u=(0,a.EW)(()=>{let{style:a}=l.value[e.data.key];return{...t(a)}}),n=(0,a.EW)(()=>l.value[e.data.key].attr);return(l,t)=>((0,a.uX)(),(0,a.Wv)(S,{data:e.data,"cell-key":e.cellKey,"block-type":e.data.type,"block-index":e.blockIndex},{default:(0,a.k6)(()=>{var e;return[(0,a.Lk)("div",null,[(null==(e=(0,a.R1)(n).links)?void 0:e.length)===0?((0,a.uX)(),(0,a.Wv)($,{key:0},{default:(0,a.k6)(()=>[...t[0]||(t[0]=[(0,a.eW)("Menu",-1)])]),_:1})):(0,a.Q3)("",!0),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,a.R1)(n).links,e=>((0,a.uX)(),(0,a.CE)("a",{key:e.id,style:(0,a.Tr)((0,a.R1)(u))},(0,a.v_)(e.label),5))),128))])]}),_:1},8,["data","cell-key","block-type","block-index"]))}}),Q=(0,a.pM)({__name:"Copyright",setup:e=>(e,l)=>((0,a.uX)(),(0,a.Wv)((0,a.$y)((0,a.R1)(c))))}),Y=["data-cell-key"],V={key:0,class:"column-placeholder"},J=(0,a.pM)({__name:"Cell",props:{data:{type:Object,required:!0},blockKey:{type:String,required:!0}},setup(e){let{cellMap:l,cellConfigMap:t,blockMap:u,insertBlockToCell:n,moveBlockInCell:r,moveBlockBetweenCells:o}=C(),{configToStyle:d}=i(),v=(0,a.KR)(null),s=(0,a.KR)(null),p=(0,a.KR)([]),c=e=>{e&&(v.value=e,U(e))},y=(0,a.EW)(()=>`${e.data.width}%`),b=(0,a.EW)(()=>{let{style:l}=t.value[e.blockKey];return{...d(l),width:y.value}}),g=(0,a.EW)(()=>l.value[e.blockKey]?l.value[e.blockKey].children.filter(e=>!!u.value[e]).map(e=>u.value[e]):[]),f=(0,a.EW)(()=>g.value&&g.value.length>0),k=(0,a.KR)(!1),x=(0,a.KR)(-1),_=(0,a.KR)(-1),R=(0,a.KR)(""),w=(0,a.KR)(""),L=(0,a.KR)({x:0,y:0}),A=(0,a.EW)(()=>k.value&&R.value===e.blockKey&&-1!==_.value),F=(0,a.KR)([]),M=(0,a.EW)(()=>{if(!f.value||!k.value||-1===x.value)return g.value||[];let e=[...g.value||[]];if(A.value){if(_.value===x.value)return e;let l=e.splice(_.value,1)[0];return e.splice(x.value>_.value?x.value-1:x.value,0,l),e}let l={key:"drag-placeholder",type:"placeholder",name:"Placeholder"};return x.value<=e.length?e.splice(x.value,0,l):e.push(l),e}),E=()=>{if(!v.value||!s.value||0===p.value.length)return;let e=[],l=v.value.getBoundingClientRect();p.value.forEach((t,a)=>{if(!t)return;let u=t.getBoundingClientRect();e.push({index:a,top:u.top-l.top,bottom:u.bottom-l.top,center:u.top+u.height/2-l.top,height:u.height})}),e.sort((e,l)=>e.top-l.top),F.value=e},K=(0,h.A)(()=>{(()=>{if(!v.value){x.value=0;return}let e=v.value.getBoundingClientRect(),l=L.value.y-e.top;if(l<20){x.value=0;return}if(l>e.height-20){x.value=g.value.length;return}if(!F.value.length&&(E(),!F.value.length)){x.value=0;return}x.value=((e,l)=>{if(0===l.length||e<l[0].top)return 0;if(e>l[l.length-1].bottom)return l.length;let t=0,a=l.length-1;for(;t<=a;){let u=Math.floor((t+a)/2),n=l[u];if(e>=n.top&&e<=n.bottom)return e<n.top+n.height/2?n.index:n.index+1;e<n.top?a=u-1:t=u+1}return t<l.length?t:l.length})(l,F.value)})()},10,{leading:!0,trailing:!0}),S=()=>{k.value=!1,x.value=-1,_.value=-1,R.value="",w.value="",F.value=[]},[,U]=(0,m.Hd)(()=>({accept:["ADD_BASE_BLOCK","SORT_BASE_BLOCK"],hover:(0,h.A)((e,l)=>{if(w.value=e.type,k.value||E(),!l.isOver())return void S();k.value=!0,"SORT_BASE_BLOCK"===e.type&&(_.value=void 0!==e.sourceIndex?e.sourceIndex:-1,R.value=e.sourceCellKey||"");let t=l.getClientOffset();t&&(L.value={x:t.x,y:t.y},K())},16),drop(l){if("ADD_BASE_BLOCK"===l.type&&(f.value&&-1!==x.value?n(x.value,e.blockKey,l.blockData):n(0,e.blockKey,l.blockData)),"SORT_BASE_BLOCK"===l.type&&-1!==x.value)if(l.sourceCellKey===e.blockKey){let t=l.sourceIndex<x.value?x.value-1:x.value;l.sourceIndex!==t&&r(e.blockKey,l.sourceIndex,x.value)}else l.sourceCellKey&&o(l.sourceCellKey,e.blockKey,l.sourceIndex,x.value,l.blockData.key);S()},collect:e=>(e.isOver()||S(),{})})),I=(0,W.A)(()=>{k.value&&E()},100,{leading:!0,maxWait:200}),D=(0,W.A)(()=>{k.value&&E()},100,{leading:!0,maxWait:200});return(0,a.sV)(()=>{window.addEventListener("scroll",I,{passive:!0}),window.addEventListener("resize",D,{passive:!0})}),(0,a.hi)(()=>{window.removeEventListener("scroll",I),window.removeEventListener("resize",D),K.cancel(),I.cancel(),D.cancel()}),(l,t)=>((0,a.uX)(),(0,a.CE)("div",{ref:c,class:(0,a.C4)(["cell-container",{"drop-active":(0,a.R1)(k)}]),style:(0,a.Tr)((0,a.R1)(b)),"data-cell-key":e.blockKey},[(0,a.Lk)("div",{ref_key:"contentRef",ref:s,class:"cell-content"},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,a.R1)(M),(l,u)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:l.key||`placeholder-${u}`},["placeholder"!==l.type?((0,a.uX)(),(0,a.CE)("div",{key:0,ref_for:!0,ref:e=>{e&&(p.value.length<=u&&(p.value=p.value.concat(Array(u-p.value.length+1).fill(null))),p.value[u]=e)},class:"block-wrapper"},[((0,a.uX)(),(0,a.Wv)((0,a.$y)({button:B,link:O,divider:T,header:H,text:P,image:G,menu:j,copyright:Q}[l.type]||null),{data:l,"block-index":!k.value||-1===x.value||u<x.value?u:u-1,"cell-key":e.blockKey,class:"block-item"},null,8,["data","block-index","cell-key"]))],512)):((0,a.uX)(),(0,a.CE)("div",{key:1,class:(0,a.C4)(["block-placeholder",{active:(0,a.R1)(k)}])},[...t[0]||(t[0]=[(0,a.Lk)("div",{class:"placeholder-content"},[(0,a.Lk)("span",null,"Place new content here")],-1)])],2))],64))),128))],512),(0,a.R1)(f)?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",V,[...t[1]||(t[1]=[(0,a.Lk)("span",null,"Drag and drop contents to this column",-1)])]))],14,Y))}}),Z=(0,L.default)(J,[["__scopeId","data-v-0564d2f0"]]),ee=["onMousedown"],el=(0,a.pM)({__name:"Columns",props:{index:Number,data:{type:Object,required:!0}},setup(e){let{columnsConfigMap:l,cellMap:t,selectedBlockKey:u,pageConfig:n}=C(),{configToStyle:r}=i(),o=(0,a.IJ)(null),d=(0,a.KR)([]),v=(0,a.KR)(!1),s=(0,a.KR)(-1),p=(0,a.KR)(0),c=(0,a.KR)([]),y=(0,a.EW)(()=>{let{style:t}=l.value[e.data.key];return{...r(t),width:n.value.style.width}}),b=(0,a.EW)(()=>u.value===e.data.key),m=(0,a.KR)(null);(0,a.wB)(()=>e.data.children.length,()=>g());let g=()=>{var l,a;if(!(null==(a=e.data)||null==(l=a.children)?void 0:l.length))return;let u=e.data.children.length,n=Math.floor(100/u),r=100-n*u;d.value=e.data.children.map((e,l)=>{let a=t.value[e];if("number"==typeof a.width&&!isNaN(a.width))return a.width;{let e=l===u-1?n+r:n;return a.width=e,e}}),f()},f=()=>{if(!d.value||0===d.value.length)return;let l=d.value.reduce((e,l)=>e+(isNaN(l)?0:l),0);if(100!==l){let a=d.value.length-1;d.value[a]=Math.max(10,(d.value[a]||0)+(100-l)),e.data.children[a]&&(t.value[e.data.children[a]].width=d.value[a])}},k=()=>{document.removeEventListener("mousemove",R,{capture:!0}),document.removeEventListener("mouseup",L,{capture:!0}),document.removeEventListener("touchmove",h,{capture:!0}),document.removeEventListener("touchend",L,{capture:!0}),document.removeEventListener("touchcancel",L,{capture:!0})},h=e=>{v.value&&e.touches[0]&&(e.preventDefault(),R({clientX:e.touches[0].clientX,preventDefault:()=>e.preventDefault()}))},x=null,_=null,R=e=>{e.preventDefault(),v.value&&(_=e,null===x&&(x=requestAnimationFrame(w)))},w=()=>{var l;if(x=null,!_||!v.value)return;let a=_,u=s.value;if(u<0||u>=d.value.length-1||c.value.length<2||c.value[0]<=0||c.value[1]<=0)return;let n=c.value[0]+c.value[1],r=a.clientX-p.value,o=Math.max(50,Math.min(n-50,c.value[0]+r)),i=d.value[u]+d.value[u+1],y=Math.round(o/n*i);y=Math.max(10,Math.min(i-10,y));let b=i-y;d.value[u]=y,d.value[u+1]=b,l=u+1,m.value&&clearTimeout(m.value),m.value=window.setTimeout(()=>{t.value[e.data.children[u]].width=d.value[u],t.value[e.data.children[l]].width=d.value[l],m.value=null},16)},L=l=>{if(l.preventDefault(),v.value=!1,null!==x&&(cancelAnimationFrame(x),x=null),m.value){clearTimeout(m.value),m.value=null;let l=s.value;l>=0&&l<d.value.length-1&&(t.value[e.data.children[l]].width=d.value[l],t.value[e.data.children[l+1]].width=d.value[l+1])}k(),document.body.style.userSelect="",document.body.style.cursor="",_=null};return(0,a.sV)(()=>{g()}),(0,a.hi)(()=>{null!==x&&cancelAnimationFrame(x),m.value&&clearTimeout(m.value),k()}),(l,u)=>((0,a.uX)(),(0,a.Wv)(S,{data:e.data,"block-type":"columns","block-index":e.index},{default:(0,a.k6)(()=>[(0,a.Lk)("div",{ref_key:"columnsLayoutRef",ref:o,class:"columns-layout",style:(0,a.Tr)((0,a.R1)(y))},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.data.children,(l,u)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:l},[(0,a.bF)(Z,{blockKey:l,data:(0,a.R1)(t)[l]},null,8,["blockKey","data"]),u<e.data.children.length-1?(0,a.bo)(((0,a.uX)(),(0,a.CE)("div",{key:0,class:(0,a.C4)(["column-divider",{active:(0,a.R1)(v)&&(0,a.R1)(s)===u}]),onMousedown:l=>((l,t)=>{var a;if(t<0||t>=e.data.children.length-1)return;l.preventDefault(),v.value=!0,s.value=t,p.value=l.clientX,0===d.value.length&&g();let u=null==(a=o.value)?void 0:a.querySelectorAll(".cell-container");if(!u||u.length<=t+1){v.value=!1;return}let n=u[t].getBoundingClientRect().width,r=u[t+1].getBoundingClientRect().width;n>0&&r>0?(c.value=[n,r],document.addEventListener("mousemove",R,{passive:!1,capture:!0}),document.addEventListener("mouseup",L,{passive:!1,capture:!0}),document.addEventListener("touchmove",h,{passive:!1,capture:!0}),document.addEventListener("touchend",L,{passive:!1,capture:!0}),document.addEventListener("touchcancel",L,{passive:!1,capture:!0}),document.body.style.userSelect="none",document.body.style.cursor="col-resize"):v.value=!1})(l,u)},null,42,ee)),[[a.aG,(0,a.R1)(b)]]):(0,a.Q3)("",!0)],64))),128))],4)]),_:1},8,["data","block-index"]))}}),et=(0,L.default)(el,[["__scopeId","data-v-93392bea"]]),ea={key:0,class:"empty-container"},eu=(0,a.pM)({__name:"Canvas",setup(e){let{pageConfig:l,columnsMaps:t,selectBlock:u,insertColumnSourceAt:n,moveColumnSource:r}=C(),o=(0,a.KR)(null),i=(0,a.KR)(null),d=e=>{e&&(o.value=e,S(e))},v=(0,a.KR)(new Map),s=(0,a.KR)([]),p=(0,a.Kh)({needsUpdate:!0,isUpdating:!1,lastUpdateTime:0,lastColumnsLength:0}),c=(0,a.KR)({x:0,y:0}),y=(0,a.Kh)({isDragging:!1,isProcessingDrop:!1,placeholderIndex:-1,highlightIndex:-1,insertPosition:null,currentDragType:null,sortingActive:!1}),b=(0,a.Kh)({isSorting:!1,sourceIndex:-1,lastAppliedTarget:-1,originalOrder:[],draggedElement:null,dragSourceDisplayIndex:-1}),g=(0,a.KR)(0),f=(0,a.EW)(()=>{if(b.isSorting||!y.isDragging||y.placeholderIndex<0)return t.value;let e=[...t.value],l=Math.min(Math.max(0,y.placeholderIndex),e.length);return e.splice(l,0,{key:"drag-placeholder",type:"placeholder",name:"Placeholder",children:[]}),e}),k=(0,a.EW)(()=>({backgroundColor:l.value.style.backgroundColor})),x=e=>{let l=f.value[e];if(!l||!b.isSorting)return e;let a=t.value.findIndex(e=>e===l);return -1===a?e:a},_={isAllowedDragType:e=>"SORT_COLUMNS_BLOCK"===e||0===t.value.length||"ADD_COLUMNS_BLOCK"===e,findTargetPosition(e){if(0===s.value.length)return null;if(e<s.value[0].top)return{targetIndex:0,targetPosition:"before"};let l=s.value[s.value.length-1];if(e>l.bottom)return{targetIndex:l.index,targetPosition:"after"};for(let l of s.value)if((!b.isSorting||l.index!==b.sourceIndex)&&e>=l.top&&e<=l.bottom)return{targetIndex:l.index,targetPosition:e<l.center?"before":"after"};for(let l=0;l<s.value.length-1;l++){let t=s.value[l],a=s.value[l+1];if((!b.isSorting||t.index!==b.sourceIndex&&a.index!==b.sourceIndex)&&e>t.bottom&&e<a.top)return{targetIndex:t.index,targetPosition:"after"}}return null},getMoveToIndex:e=>e?"before"===e.targetPosition?e.targetIndex:e.targetIndex+1:-1,shouldSkipMove:(e,l,t)=>l===e||l===e+1||l===t,getNewSourceIndex:(e,l)=>l>e?l-1:l},R=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if((!p.isUpdating||e)&&(p.needsUpdate||e)){p.isUpdating=!0;try{let e=o.value;if(!e)return;let l=e.getBoundingClientRect(),a=[],u=e.querySelectorAll(".block-columns-wrapper");if(0===u.length){s.value=[],p.needsUpdate=!1;return}u.forEach((e,t)=>{let u=e.getBoundingClientRect(),n=e.dataset.index,r=n?parseInt(n,10):t;a.push({index:r,domIndex:t,top:u.top-l.top,bottom:u.bottom-l.top,height:u.height,center:u.top-l.top+u.height/2,element:e})}),s.value=a.sort((e,l)=>e.top-l.top),p.needsUpdate=!1,p.lastUpdateTime=Date.now(),p.lastColumnsLength=t.value.length}finally{p.isUpdating=!1}}};(0,a.wB)(()=>t.value.length,(e,l)=>{e!==l&&(p.needsUpdate=!0,(0,a.dY)(()=>{R()}))});let w=()=>{u("","")},L=(0,h.A)(e=>{!y.isProcessingDrop&&(c.value={x:e.clientX,y:e.clientY},y.isDragging&&(b.isSorting?E(c.value):M(c.value)))},16),A=()=>{y.isDragging&&!y.isProcessingDrop&&F()},F=()=>{y.highlightIndex=-1,y.insertPosition=null},M=e=>{if(!y.isDragging||y.isProcessingDrop||b.isSorting)return;if(!_.isAllowedDragType(y.currentDragType||"")){y.placeholderIndex=-1;return}let l=o.value;if(!l)return;let t=l.getBoundingClientRect(),a=e.y-t.top;if(0===s.value.length){y.placeholderIndex=0;return}p.needsUpdate&&R();let u=_.findTargetPosition(a);if(!u)return;let{targetIndex:n,targetPosition:r}=u;y.highlightIndex=n,y.insertPosition=r,y.placeholderIndex="before"===r?n:n+1},E=(0,h.A)(e=>{b.isSorting&&!y.isProcessingDrop&&(p.needsUpdate&&R(!0),K(e))},16,{leading:!0,trailing:!0}),K=e=>{var l;if(!b.isSorting)return;let t=null==(l=o.value)?void 0:l.getBoundingClientRect();if(!t)return;let u=e.y-t.top,n=_.findTargetPosition(u);if(!n)return;let i=_.getMoveToIndex(n);if(_.shouldSkipMove(b.sourceIndex,i,b.lastAppliedTarget))return;y.highlightIndex=n.targetIndex,y.insertPosition=n.targetPosition,g.value++,r(b.sourceIndex,i);let d=_.getNewSourceIndex(b.sourceIndex,i);b.lastAppliedTarget=i,b.sourceIndex=d,p.needsUpdate=!0,(0,a.dY)(()=>{R(!0)})},[,S]=(0,m.Hd)(()=>({accept:["ADD_COLUMNS_BLOCK","ADD_BASE_BLOCK","SORT_COLUMNS_BLOCK"],hover:(0,h.A)((e,l)=>{if(y.isProcessingDrop)return;let a=l.isOver({shallow:!0});y.currentDragType=e.type;let u="SORT_COLUMNS_BLOCK"===e.type||_.isAllowedDragType(e.type),n=a&&l.canDrop()&&u;if(!y.isDragging||n||b.isSorting||(y.placeholderIndex=-1),y.isDragging=n,!u&&"SORT_COLUMNS_BLOCK"!==e.type||!a)return;let r=l.getClientOffset();r&&("SORT_COLUMNS_BLOCK"===e.type&&"sourceIndex"in e?(b.isSorting||(e=>{if(b.isSorting)return;R(!0);let l=null,a=-1;for(let t of s.value)if(t.index===e){a=t.domIndex,l=t.element;break}if(!l){let t=o.value;t&&t.querySelectorAll(".block-columns-wrapper").forEach((t,u)=>{parseInt(t.dataset.index||"-1",10)===e&&(l=t,a=u)})}-1===a&&(a=e),b.isSorting=!0,b.sourceIndex=e,b.originalOrder=[...t.value],b.lastAppliedTarget=-1,b.draggedElement=l,b.dragSourceDisplayIndex=a,y.isDragging=!0,y.currentDragType="SORT_COLUMNS_BLOCK",y.sortingActive=!0,g.value=0,p.needsUpdate=!0,R(!0)})(e.sourceIndex),E(r)):("ADD_COLUMNS_BLOCK"===e.type||"ADD_BASE_BLOCK"===e.type)&&M(r))},16,{leading:!0,trailing:!0}),drop:(e,l)=>{if(!y.isProcessingDrop){y.isProcessingDrop=!0;try{if(!l.isOver({shallow:!0}))return;"SORT_COLUMNS_BLOCK"===e.type?(b.isSorting=!1,b.sourceIndex=-1,b.originalOrder=[],b.lastAppliedTarget=-1,b.draggedElement=null,b.dragSourceDisplayIndex=-1,y.sortingActive=!1,y.highlightIndex=-1,y.insertPosition=null,g.value=0,p.needsUpdate=!0,(0,a.dY)(()=>R(!0))):("ADD_COLUMNS_BLOCK"===e.type||"ADD_BASE_BLOCK"===e.type)&&(e=>{try{let{type:l,blockData:a}=e;if(!a||!_.isAllowedDragType(l))return;if("ADD_COLUMNS_BLOCK"===l){let e=y.placeholderIndex>=0?y.placeholderIndex:t.value.length;n(e)}else"ADD_BASE_BLOCK"===l&&n(0)}finally{p.needsUpdate=!0,(0,a.dY)(()=>R(!0))}})(e)}finally{setTimeout(()=>{y.isDragging=!1,y.isProcessingDrop=!1,y.currentDragType=null,y.placeholderIndex=-1,y.highlightIndex=-1,y.insertPosition=null,y.sortingActive=!1,b.isSorting=!1,b.sourceIndex=-1,b.originalOrder=[],b.lastAppliedTarget=-1,b.draggedElement=null,b.dragSourceDisplayIndex=-1,p.needsUpdate=!0,(0,a.dY)(()=>R())},50)}}},collect:e=>(y.isDragging&&!e.isOver()&&(b.isSorting||(y.placeholderIndex=-1),y.isDragging=!1),{})}));return(e,l)=>((0,a.uX)(),(0,a.CE)("div",{ref:d,class:"canvas-area",onClick:(0,a.D$)(w,["stop"])},[(0,a.Lk)("div",{ref_key:"canvasRef",ref:i,class:"canvas-container",style:(0,a.Tr)((0,a.R1)(k)),onMousemove:l[0]||(l[0]=function(){for(var e=arguments.length,l=Array(e),t=0;t<e;t++)l[t]=arguments[t];return(0,a.R1)(L)&&(0,a.R1)(L)(...l)}),onMouseleave:A},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,a.R1)(f),(e,t)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:e.key||`placeholder-${t}`},["columns"===e.type?((0,a.uX)(),(0,a.CE)("div",{key:0,ref_for:!0,ref:e=>((e,l)=>{if(!e)return void v.value.delete(l);let t=x(l);e.dataset.index=t.toString(),v.value.set(l,e),p.needsUpdate=!0})(e,t),class:"block-columns-wrapper"},[(0,a.bF)(et,{data:e,index:x(t)},null,8,["data","index"])],512)):(0,a.Q3)("",!0),"placeholder"===e.type?((0,a.uX)(),(0,a.CE)("div",{key:1,class:(0,a.C4)(["block-placeholder",{active:(0,a.R1)(y).isDragging}])},[...l[1]||(l[1]=[(0,a.Lk)("div",{class:"placeholder-content"},[(0,a.Lk)("span",null,"Place the new content here")],-1)])],2)):(0,a.Q3)("",!0)],64))),128)),(0,a.bF)(Q),0!==(0,a.R1)(t).length||(0,a.R1)(y).isDragging?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",ea,[...l[2]||(l[2]=[(0,a.Lk)("div",{class:"empty-message"},"No content here. Drag content from left.",-1)])]))],36)]))}}),en=(0,L.default)(eu,[["__scopeId","data-v-4b28f081"]]),er={class:"editor-tools"},eo=(0,a.pM)({__name:"index",setup:e=>(e,l)=>((0,a.uX)(),(0,a.CE)("div",er,[(0,a.Lk)("div",null,[(0,a.Q3)("",!0)])]))}),ei=(0,L.default)(eo,[["__scopeId","data-v-07512675"]]),ed={class:"editor-container"},ev={class:"flex-1"},es=(0,a.pM)({__name:"Editor",setup:e=>(e,l)=>((0,a.uX)(),(0,a.CE)("div",ed,[(0,a.bF)(ei),(0,a.Lk)("div",ev,[(0,a.bF)(en)])]))}),ep=(0,L.default)(es,[["__scopeId","data-v-b7a79b1a"]]),ec={class:"icon"},ey={class:"text"},eb=(0,a.pM)({__name:"block",props:{type:{type:String,required:!0},data:{type:Object,required:!0}},setup(e){let[,l]=(0,m.i3)(()=>({type:"columns"===e.type?"ADD_COLUMNS_BLOCK":"ADD_BASE_BLOCK",item:{type:"columns"===e.type?"ADD_COLUMNS_BLOCK":"ADD_BASE_BLOCK",blockData:(0,_.A)(e.data)}})),t={columns:()=>(0,a.bF)("i",{class:"i-mdi:view-column-outline"},null),button:()=>(0,a.bF)("i",{class:"i-mdi:button-outline"},null),link:()=>(0,a.bF)("i",{class:"i-mdi:link"},null),divider:()=>(0,a.bF)("i",{class:"i-mdi:horizontal-line"},null),header:()=>(0,a.bF)("i",{class:"i-ri:heading"},null),text:()=>(0,a.bF)("i",{class:"i-mdi:format-text"},null),image:()=>(0,a.bF)("i",{class:"i-mdi:file-image"},null),menu:()=>(0,a.bF)("i",{class:"i-mdi:menu"},null),placeholder:()=>(0,a.bF)("i",null,null),cell:()=>(0,a.bF)("i",null,null),html:()=>(0,a.bF)("i",null,null)};return(u,n)=>((0,a.uX)(),(0,a.CE)("div",{ref:(0,a.R1)(l),class:"block-item"},[(0,a.Lk)("div",ec,[((0,a.uX)(),(0,a.Wv)((0,a.$y)(t[e.type])))]),(0,a.Lk)("div",ey,(0,a.v_)(e.data.name),1)],512))}}),em=(0,L.default)(eb,[["__scopeId","data-v-67bcbb83"]]),eg={class:"block-panel"},ef={class:"block-list"},ek=(0,a.pM)({__name:"index",setup(e){let l=(0,a.KR)([{type:"columns",name:"Columns",key:"0"},{type:"button",name:"Button",key:"0"},{type:"link",name:"Link",key:"0"},{type:"divider",name:"Divider",key:"0"},{type:"header",name:"Header",key:"0"},{type:"text",name:"Text",key:"0"},{type:"image",name:"Image",key:"0"},{type:"menu",name:"Menu",key:"0"}]);return(e,t)=>((0,a.uX)(),(0,a.CE)("div",eg,[(0,a.Lk)("div",ef,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,a.R1)(l),e=>((0,a.uX)(),(0,a.Wv)(em,{key:e.type,type:e.type,data:e},null,8,["type","data"]))),128))])]))}}),eh=(0,L.default)(ek,[["__scopeId","data-v-94dfb08f"]]),ex={class:"editor-menu"},e_=(0,a.pM)({__name:"EditorMenu",setup:e=>(e,l)=>((0,a.uX)(),(0,a.CE)("div",ex,[(0,a.bF)(eh)]))}),eC=(0,L.default)(e_,[["__scopeId","data-v-0a1842ca"]]);var eR=t(82676),ew=t(35275),eL=t(78585),eA=t(66161);let eF=(0,L.default)({},[["render",function(e,l){let t=eA.Ay;return(0,a.uX)(),(0,a.Wv)(t,{"arrow-placement":"right","display-directive":"show"},{default:(0,a.k6)(()=>[(0,a.RG)(e.$slots,"default",{},void 0,!0)]),_:3})}],["__scopeId","data-v-44e2dd97"]]),eM={class:"columns-panel"},eE={class:"layout-grid"},eK=["onClick"],eS={class:"layout-preview"},eW={class:"text"},eU={key:0,class:"layout-option active mt-16px"},eI={class:"layout-preview"},eD={class:"text"},eX=(0,a.pM)({__name:"ColumnsPanel",setup(e){let{columnsMap:l,cellMap:t,selectedBlockKey:u,generateNewCell:n}=C(),{autoSaveFn:r}=y(),o=(0,a.EW)(()=>l.value[u.value]),i=[{type:"single",columns:[100]},{type:"two-equal",columns:[50,50]},{type:"three-equal",columns:[33,33,33]},{type:"four-equal",columns:[25,25,25,25]},{type:"two-left-small",columns:[33,67]},{type:"two-right-small",columns:[67,33]},{type:"four-left-small",columns:[17,33,17,33]},{type:"four-right-small",columns:[33,17,33,17]}],d=new Map(i.map(e=>[e.type,e.columns])),v=(0,a.KR)(null),s=(0,a.EW)(()=>{var e;let l=null==(e=o.value)?void 0:e.children;return(null==l?void 0:l.length)?l.map(e=>t.value[e].width||0):[]}),p=(0,a.EW)(()=>{let e=s.value;if(!e.length)return"";for(let l=0;l<i.length;l++){let t=i[l];if(t.columns.length!==e.length)continue;let a=!0;for(let l=0;l<e.length;l++)if(Math.abs(e[l]-t.columns[l])>3){a=!1;break}if(a)return t.type}return""}),c=(0,a.EW)(()=>s.value.length>0&&i.some(e=>e.columns.length===s.value.length&&e.columns.every((e,l)=>1>=Math.abs(e-s.value[l])))),b=(0,a.EW)(()=>c.value?p.value:"");return(e,p)=>((0,a.uX)(),(0,a.CE)("div",eM,[(0,a.Lk)("div",eE,[((0,a.uX)(),(0,a.CE)(a.FK,null,(0,a.pI)(i,e=>(0,a.Lk)("div",{key:e.type,class:(0,a.C4)(["layout-option",{active:(0,a.R1)(b)===e.type}]),onClick:a=>(e=>{if(v.value=e,!o.value)return;let a=d.get(e)||[100],i=o.value.children||[],s=Math.max(0,a.length-i.length),p=s>0?Array.from({length:s},()=>n()):[],c=a.map((e,l)=>{if(l<i.length)return t.value[i[l]].width=e,i[l];let a=p[l-i.length];return a.width=e,a.key});u.value&&(l.value[u.value].children=c),r()})(e.type)},[(0,a.Lk)("div",eS,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.columns,(e,l)=>((0,a.uX)(),(0,a.CE)("div",{key:l,class:"column",style:(0,a.Tr)({width:e+"%"})},[(0,a.Lk)("span",eW,(0,a.v_)(e),1)],4))),128))])],10,eK)),64))]),(0,a.R1)(c)?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",eU,[(0,a.Lk)("div",eI,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,a.R1)(s),(e,l)=>((0,a.uX)(),(0,a.CE)("div",{key:l,class:"column",style:(0,a.Tr)({width:e+"%"})},[(0,a.Lk)("span",eD,(0,a.v_)(e),1)],4))),128))])]))]))}}),eB=(0,L.default)(eX,[["__scopeId","data-v-a39a5472"]]);var eO=t(27546),eT=t(5887),eH=t(99076);let eP={class:"style-container"},ez={class:"style-rows"},e$={class:"style-label"},eN={class:"style-value"},eq=(0,a.pM)({__name:"BaseContainer",props:{label:{type:String,default:""}},setup:e=>(l,t)=>((0,a.uX)(),(0,a.CE)("div",eP,[(0,a.Lk)("div",ez,[(0,a.Lk)("div",e$,(0,a.v_)(e.label),1),(0,a.Lk)("div",eN,[(0,a.RG)(l.$slots,"value")])]),(0,a.RG)(l.$slots,"options")]))}),eG=(0,L.default)(eq,[["__scopeId","data-v-b9095930"]]),ej=(0,a.pM)({__name:"Head",props:{value:{},valueModifiers:{}},emits:["update:value"],setup(e){let l=(0,a.fn)(e,"value");return(e,t)=>{let u=eH.A,n=eT.A;return(0,a.uX)(),(0,a.Wv)(eG,{label:"Heading Type"},{value:(0,a.k6)(()=>[(0,a.bF)(n,{value:l.value,"onUpdate:value":t[0]||(t[0]=e=>l.value=e)},{default:(0,a.k6)(()=>[(0,a.bF)(u,{value:"22px"},{default:(0,a.k6)(()=>[...t[1]||(t[1]=[(0,a.eW)("H1",-1)])]),_:1}),(0,a.bF)(u,{value:"20px"},{default:(0,a.k6)(()=>[...t[2]||(t[2]=[(0,a.eW)("H2",-1)])]),_:1}),(0,a.bF)(u,{value:"18px"},{default:(0,a.k6)(()=>[...t[3]||(t[3]=[(0,a.eW)("H3",-1)])]),_:1}),(0,a.bF)(u,{value:"16px"},{default:(0,a.k6)(()=>[...t[4]||(t[4]=[(0,a.eW)("H4",-1)])]),_:1})]),_:1},8,["value"])]),_:1})}}});var eQ=t(70406);let eY={class:"w-32px"},eV=(0,a.pM)({__name:"Color",props:(0,a.zz)({label:{default:""}},{value:{default:""},valueModifiers:{}}),emits:["update:value"],setup(e){let l=(0,a.fn)(e,"value");return(t,u)=>{let n=eQ.A;return(0,a.uX)(),(0,a.Wv)(eG,{label:e.label},{value:(0,a.k6)(()=>[(0,a.Lk)("div",eY,[(0,a.bF)(n,{value:l.value,"onUpdate:value":u[0]||(u[0]=e=>l.value=e),modes:["hex"]},{label:(0,a.k6)(()=>[...u[1]||(u[1]=[(0,a.Lk)("span",null,null,-1)])]),_:1},8,["value"])])]),_:1},8,["label"])}}});var eJ=t(86975);let eZ={class:"w-180px"},e0=(0,a.pM)({__name:"Width",props:{value:{default:""},valueModifiers:{}},emits:["update:value"],setup(e){let l=(0,a.fn)(e,"value"),t=(0,a.KR)(100);(0,a.wB)(()=>l.value,e=>{t.value=Number.parseFloat(e)},{immediate:!0});let u=e=>{l.value=`${e}%`};return(e,l)=>{let n=eJ.A;return(0,a.uX)(),(0,a.Wv)(eG,{label:"Width"},{value:(0,a.k6)(()=>[(0,a.Lk)("div",eZ,[(0,a.bF)(n,{value:t.value,"onUpdate:value":[l[0]||(l[0]=e=>t.value=e),u],step:1},null,8,["value"])])]),_:1})}}});var e1=t(45679);let e6={class:"flex items-center h-32px"},e2={key:0,class:"ml-8px whitespace-nowrap"},e8=(0,a.pM)({__name:"WidthAuto",props:{value:{default:""},valueModifiers:{}},emits:["update:value"],setup(e){let l=(0,a.fn)(e,"value"),t=(0,a.KR)(!0),u=(0,a.KR)(100);(0,a.wB)(()=>l.value,e=>{"auto"===e?t.value=!0:(t.value=!1,u.value=Number.parseFloat(e)),t.value||(u.value=Number.parseFloat(e))},{immediate:!0});let n=e=>{u.value=100,e?l.value="100%":l.value=`${u.value}%`},r=e=>{l.value=`${e}%`};return(e,l)=>{let o=e1.A,i=eJ.A;return(0,a.uX)(),(0,a.Wv)(eG,{label:"Width"},{value:(0,a.k6)(()=>[l[2]||(l[2]=(0,a.Lk)("span",{class:"mr-12px"},"Auto On",-1)),(0,a.bF)(o,{value:t.value,"onUpdate:value":[l[0]||(l[0]=e=>t.value=e),n]},null,8,["value"])]),options:(0,a.k6)(()=>[(0,a.Lk)("div",e6,[(0,a.bF)(i,{value:u.value,"onUpdate:value":[l[1]||(l[1]=e=>u.value=e),r],step:1,disabled:t.value},null,8,["value","disabled"]),t.value?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("span",e2,(0,a.v_)(u.value)+"%",1))])]),_:1})}}});var e5=t(68275),e3=t(93281),e9=t(2770);let e4=(0,a.pM)({__name:"BaseNumber",props:(0,a.zz)({unit:{type:String,default:"px"},step:{type:Number,default:1}},{value:{default:""},valueModifiers:{}}),emits:["update:value"],setup(e){let l=(0,a.fn)(e,"value"),t=(0,a.KR)(0);(0,a.wB)(()=>l.value,e=>{t.value=e?Number.parseFloat(e):0},{immediate:!0});let u=t=>{l.value=`${t||0}${e.unit}`};return(l,n)=>{let r=e9.A,o=e3.A,i=e5.A;return(0,a.uX)(),(0,a.Wv)(i,{class:"w-130px"},{default:(0,a.k6)(()=>[(0,a.bF)(r,{value:(0,a.R1)(t),"onUpdate:value":[n[0]||(n[0]=e=>(0,a.i9)(t)?t.value=e:null),u],min:0,step:e.step,placeholder:""},null,8,["value","step"]),(0,a.bF)(o,{class:"w-40px text-center"},{default:(0,a.k6)(()=>[(0,a.eW)((0,a.v_)(e.unit),1)]),_:1})]),_:1})}}}),e7=(0,a.pM)({__name:"WidthNumber",props:{value:{default:"500px"},valueModifiers:{}},emits:["update:value"],setup(e){let l=(0,a.fn)(e,"value");return(e,t)=>((0,a.uX)(),(0,a.Wv)(eG,{label:"Width"},{value:(0,a.k6)(()=>[(0,a.bF)(e4,{value:l.value,"onUpdate:value":t[0]||(t[0]=e=>l.value=e)},null,8,["value"])]),_:1}))}});var le=t(95403);let ll={class:"w-100px"},lt=(0,a.pM)({__name:"FontWeight",props:(0,a.zz)({label:{default:""}},{value:{default:""},valueModifiers:{}}),emits:["update:value"],setup(e){let l=(0,a.fn)(e,"value"),t=[{label:"Normal",value:"normal"},{label:"Bold",value:"bold"}];return l.value||(l.value=t[0].value),(e,u)=>{let n=le.A;return(0,a.uX)(),(0,a.Wv)(eG,{label:"Font Weight"},{value:(0,a.k6)(()=>[(0,a.Lk)("div",ll,[(0,a.bF)(n,{value:l.value,"onUpdate:value":u[0]||(u[0]=e=>l.value=e),options:t},null,8,["value"])])]),_:1})}}}),la=(0,a.pM)({__name:"FontSize",props:{value:{default:"14px"},valueModifiers:{}},emits:["update:value"],setup(e){let l=(0,a.fn)(e,"value");return(e,t)=>((0,a.uX)(),(0,a.Wv)(eG,{label:"Font Size"},{value:(0,a.k6)(()=>[(0,a.bF)(e4,{value:l.value,"onUpdate:value":t[0]||(t[0]=e=>l.value=e)},null,8,["value"])]),_:1}))}}),lu=(0,a.pM)({__name:"LineHeight",props:{value:{default:"120%"},valueModifiers:{}},emits:["update:value"],setup(e){let l=(0,a.fn)(e,"value");return(e,t)=>((0,a.uX)(),(0,a.Wv)(eG,{label:"Line Height"},{value:(0,a.k6)(()=>[(0,a.bF)(e4,{value:l.value,"onUpdate:value":t[0]||(t[0]=e=>l.value=e),unit:"%",step:10},null,8,["value"])]),_:1}))}}),ln=(0,a.pM)({__name:"LetterSpacing",props:{value:{default:"0px"},valueModifiers:{}},emits:["update:value"],setup(e){let l=(0,a.fn)(e,"value");return(e,t)=>((0,a.uX)(),(0,a.Wv)(eG,{label:"Letter Spacing"},{value:(0,a.k6)(()=>[(0,a.bF)(e4,{value:l.value,"onUpdate:value":t[0]||(t[0]=e=>l.value=e)},null,8,["value"])]),_:1}))}}),lr=(0,a.pM)({__name:"TextAlign",props:(0,a.zz)({label:{default:""}},{value:{},valueModifiers:{}}),emits:["update:value"],setup(e){let l=(0,a.fn)(e,"value");return(t,u)=>{let n=eH.A,r=eT.A;return(0,a.uX)(),(0,a.Wv)(eG,{label:e.label||"Text Align"},{value:(0,a.k6)(()=>[(0,a.bF)(r,{value:l.value,"onUpdate:value":u[0]||(u[0]=e=>l.value=e)},{default:(0,a.k6)(()=>[(0,a.bF)(n,{value:"left"},{default:(0,a.k6)(()=>[...u[1]||(u[1]=[(0,a.eW)("Left",-1)])]),_:1}),(0,a.bF)(n,{value:"center"},{default:(0,a.k6)(()=>[...u[2]||(u[2]=[(0,a.eW)("Center",-1)])]),_:1}),(0,a.bF)(n,{value:"right"},{default:(0,a.k6)(()=>[...u[3]||(u[3]=[(0,a.eW)("Right",-1)])]),_:1})]),_:1},8,["value"])]),_:1},8,["label"])}}}),lo={class:"flex flex-col gap-8px"},li={class:"w-92px"},ld={class:"w-32px"},lv=(0,a.pM)({__name:"BaseBorder",props:{value:{default:()=>({width:"0",style:"solid",color:""})},valueModifiers:{}},emits:["update:value"],setup(e){let l=(0,a.fn)(e,"value"),t=[{label:"Solid",value:"solid"},{label:"Dotted",value:"dotted"},{label:"Dashed",value:"dashed"}];return(e,u)=>{let n=le.A,r=eQ.A;return(0,a.uX)(),(0,a.CE)("div",lo,[(0,a.bF)(e4,{value:l.value.width,"onUpdate:value":u[0]||(u[0]=e=>l.value.width=e),placeholder:""},null,8,["value"]),(0,a.Lk)("div",li,[(0,a.bF)(n,{value:l.value.style,"onUpdate:value":u[1]||(u[1]=e=>l.value.style=e),options:t,placeholder:""},null,8,["value"])]),(0,a.Lk)("div",ld,[(0,a.bF)(r,{value:l.value.color,"onUpdate:value":u[2]||(u[2]=e=>l.value.color=e),modes:["hex"]},{label:(0,a.k6)(()=>[...u[3]||(u[3]=[(0,a.Lk)("span",null,null,-1)])]),_:1},8,["value"])])])}}}),ls=(0,a.pM)({__name:"Line",props:{value:{default:()=>({width:"0",style:"solid",color:""})},valueModifiers:{}},emits:["update:value"],setup(e){let l=(0,a.fn)(e,"value");return(e,t)=>((0,a.uX)(),(0,a.Wv)(eG,{label:"Line"},{value:(0,a.k6)(()=>[(0,a.bF)(lv,{value:l.value,"onUpdate:value":t[0]||(t[0]=e=>l.value=e)},null,8,["value"])]),_:1}))}});var lp=t(91664),lc=t(19625);let ly={class:"flex items-center h-32px"},lb=(0,L.default)({},[["render",function(e,l){return(0,a.uX)(),(0,a.CE)("div",ly,[(0,a.RG)(e.$slots,"default")])}]]),lm=(0,a.pM)({__name:"MoreOptions",props:{show:{type:Boolean,default:!1},topLabel:{default:"Top"},rightLabel:{default:"Right"},leftLabel:{default:"Left"},bottomLabel:{default:"Bottom"}},setup:e=>(l,t)=>{let u=lc.Ay,n=lp.A;return e.show?((0,a.uX)(),(0,a.Wv)(n,{key:1,"x-gap":"8","y-gap":"8",cols:2},{default:(0,a.k6)(()=>[(0,a.bF)(u,null,{default:(0,a.k6)(()=>[(0,a.bF)(lb,null,{default:(0,a.k6)(()=>[(0,a.eW)((0,a.v_)(e.topLabel),1)]),_:1}),(0,a.RG)(l.$slots,"top")]),_:3}),(0,a.bF)(u,null,{default:(0,a.k6)(()=>[(0,a.bF)(lb,null,{default:(0,a.k6)(()=>[(0,a.eW)((0,a.v_)(e.rightLabel),1)]),_:1}),(0,a.RG)(l.$slots,"right")]),_:3}),(0,a.bF)(u,null,{default:(0,a.k6)(()=>[(0,a.bF)(lb,null,{default:(0,a.k6)(()=>[(0,a.eW)((0,a.v_)(e.leftLabel),1)]),_:1}),(0,a.RG)(l.$slots,"left")]),_:3}),(0,a.bF)(u,null,{default:(0,a.k6)(()=>[(0,a.bF)(lb,null,{default:(0,a.k6)(()=>[(0,a.eW)((0,a.v_)(e.bottomLabel),1)]),_:1}),(0,a.RG)(l.$slots,"bottom")]),_:3})]),_:3})):((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.bF)(lb,null,{default:(0,a.k6)(()=>[...t[0]||(t[0]=[(0,a.eW)("All Sides",-1)])]),_:1}),(0,a.RG)(l.$slots,"all")],64))}}),lg=(0,a.pM)({__name:"Border",props:(0,a.zz)({label:{default:""}},{value:{default:()=>({more:!1,all:{width:"0",style:"solid",color:""},top:{width:"0",style:"solid",color:""},left:{width:"0",style:"solid",color:""},right:{width:"0",style:"solid",color:""},bottom:{width:"0",style:"solid",color:""}})},valueModifiers:{}}),emits:["update:value"],setup(e){let l=(0,a.fn)(e,"value"),t=e=>{e?(l.value.top=l.value.all,l.value.right=l.value.all,l.value.bottom=l.value.all,l.value.left=l.value.all):l.value.all=l.value.top};return(u,n)=>{let r=e1.A;return(0,a.uX)(),(0,a.Wv)(eG,{label:e.label||"Border"},{value:(0,a.k6)(()=>[n[6]||(n[6]=(0,a.Lk)("span",{class:"mr-12px"},"More Options",-1)),(0,a.bF)(r,{value:l.value.more,"onUpdate:value":[n[0]||(n[0]=e=>l.value.more=e),t]},null,8,["value"])]),options:(0,a.k6)(()=>[(0,a.bF)(lm,{show:l.value.more},{all:(0,a.k6)(()=>[(0,a.bF)(lv,{value:l.value.all,"onUpdate:value":n[1]||(n[1]=e=>l.value.all=e)},null,8,["value"])]),top:(0,a.k6)(()=>[(0,a.bF)(lv,{value:l.value.top,"onUpdate:value":n[2]||(n[2]=e=>l.value.top=e)},null,8,["value"])]),left:(0,a.k6)(()=>[(0,a.bF)(lv,{value:l.value.left,"onUpdate:value":n[3]||(n[3]=e=>l.value.left=e)},null,8,["value"])]),right:(0,a.k6)(()=>[(0,a.bF)(lv,{value:l.value.right,"onUpdate:value":n[4]||(n[4]=e=>l.value.right=e)},null,8,["value"])]),bottom:(0,a.k6)(()=>[(0,a.bF)(lv,{value:l.value.bottom,"onUpdate:value":n[5]||(n[5]=e=>l.value.bottom=e)},null,8,["value"])]),_:1},8,["show"])]),_:1},8,["label"])}}}),lf=(0,a.pM)({__name:"Padding",props:(0,a.zz)({label:{default:""}},{value:{default:()=>({more:!1,all:"",top:"",left:"",right:"",bottom:""})},valueModifiers:{}}),emits:["update:value"],setup(e){let l=(0,a.fn)(e,"value"),t=e=>{e?(l.value.top=l.value.all,l.value.right=l.value.all,l.value.bottom=l.value.all,l.value.left=l.value.all):l.value.all=l.value.top};return(u,n)=>{let r=e1.A;return(0,a.uX)(),(0,a.Wv)(eG,{label:e.label||"Padding"},{value:(0,a.k6)(()=>[n[6]||(n[6]=(0,a.Lk)("span",{class:"mr-12px"},"More Options",-1)),(0,a.bF)(r,{value:l.value.more,"onUpdate:value":[n[0]||(n[0]=e=>l.value.more=e),t]},null,8,["value"])]),options:(0,a.k6)(()=>[(0,a.bF)(lm,{show:l.value.more},{all:(0,a.k6)(()=>[(0,a.bF)(e4,{value:l.value.all,"onUpdate:value":n[1]||(n[1]=e=>l.value.all=e)},null,8,["value"])]),top:(0,a.k6)(()=>[(0,a.bF)(e4,{value:l.value.top,"onUpdate:value":n[2]||(n[2]=e=>l.value.top=e)},null,8,["value"])]),left:(0,a.k6)(()=>[(0,a.bF)(e4,{value:l.value.left,"onUpdate:value":n[3]||(n[3]=e=>l.value.left=e)},null,8,["value"])]),right:(0,a.k6)(()=>[(0,a.bF)(e4,{value:l.value.right,"onUpdate:value":n[4]||(n[4]=e=>l.value.right=e)},null,8,["value"])]),bottom:(0,a.k6)(()=>[(0,a.bF)(e4,{value:l.value.bottom,"onUpdate:value":n[5]||(n[5]=e=>l.value.bottom=e)},null,8,["value"])]),_:1},8,["show"])]),_:1},8,["label"])}}}),lk=(0,a.pM)({__name:"Rounded",props:{value:{default:()=>({more:!1,all:"",top:"",left:"",right:"",bottom:""})},valueModifiers:{}},emits:["update:value"],setup(e){let l=(0,a.fn)(e,"value"),t=e=>{e?(l.value.top=l.value.all,l.value.right=l.value.all,l.value.bottom=l.value.all,l.value.left=l.value.all):l.value.all=l.value.top};return(e,u)=>{let n=e1.A;return(0,a.uX)(),(0,a.Wv)(eG,{label:"Rounded Border"},{value:(0,a.k6)(()=>[u[6]||(u[6]=(0,a.Lk)("span",{class:"mr-12px"},"More Options",-1)),(0,a.bF)(n,{value:l.value.more,"onUpdate:value":[u[0]||(u[0]=e=>l.value.more=e),t]},null,8,["value"])]),options:(0,a.k6)(()=>[(0,a.bF)(lm,{show:l.value.more,"top-label":"Top Left","left-label":"Bottom Left","right-label":"Top Right","bottom-label":"Bottom Right"},{all:(0,a.k6)(()=>[(0,a.bF)(e4,{value:l.value.all,"onUpdate:value":u[1]||(u[1]=e=>l.value.all=e)},null,8,["value"])]),top:(0,a.k6)(()=>[(0,a.bF)(e4,{value:l.value.top,"onUpdate:value":u[2]||(u[2]=e=>l.value.top=e)},null,8,["value"])]),left:(0,a.k6)(()=>[(0,a.bF)(e4,{value:l.value.left,"onUpdate:value":u[3]||(u[3]=e=>l.value.left=e)},null,8,["value"])]),right:(0,a.k6)(()=>[(0,a.bF)(e4,{value:l.value.right,"onUpdate:value":u[4]||(u[4]=e=>l.value.right=e)},null,8,["value"])]),bottom:(0,a.k6)(()=>[(0,a.bF)(e4,{value:l.value.bottom,"onUpdate:value":u[5]||(u[5]=e=>l.value.bottom=e)},null,8,["value"])]),_:1},8,["show"])]),_:1})}}}),lh={class:"w-140px"},lx=(0,a.pM)({__name:"Layout",props:(0,a.zz)({label:{default:""}},{value:{default:""},valueModifiers:{}}),emits:["update:value"],setup(e){let l=(0,a.fn)(e,"value"),t=[{label:"Horizontal",value:"inline-block"},{label:"Vertical",value:"block"}];return l.value||(l.value=t[0].value),(e,u)=>{let n=le.A;return(0,a.uX)(),(0,a.Wv)(eG,{label:"Layout"},{value:(0,a.k6)(()=>[(0,a.Lk)("div",lh,[(0,a.bF)(n,{value:l.value,"onUpdate:value":u[0]||(u[0]=e=>l.value=e),options:t},null,8,["value"])])]),_:1})}}});function l_(e){return[(0,a.pM)({setup(l,t){let{slots:u}=t;return()=>(0,a.bF)(lC,{options:e},"function"!=typeof u&&("[object Object]"!==Object.prototype.toString.call(u)||(0,a.vv)(u))?{default:()=>[u]}:u)}})]}let lC=(0,a.pM)({props:{value:{type:Object,default:()=>({})},options:{type:Array,default:()=>[]}},setup(e,l){let{slots:t}=l;return()=>(0,a.bF)(a.FK,null,[e.options.map(l=>(function(e,l,t){let{key:u,attrKey:n,label:r}=e,o=u||n;switch(n){case"color":case"backgroundColor":return(0,a.bF)(eV,{value:l[o],"onUpdate:value":e=>l[o]=e,label:r},null);case"head":return(0,a.bF)(ej,{value:l[o],"onUpdate:value":e=>l[o]=e},null);case"padding":return(0,a.bF)(lf,{value:l[o],"onUpdate:value":e=>l[o]=e,label:r},null);case"border":return(0,a.bF)(lg,{value:l[o],"onUpdate:value":e=>l[o]=e,label:r},null);case"borderTop":return(0,a.bF)(ls,{value:l[o],"onUpdate:value":e=>l[o]=e},null);case"width":return(0,a.bF)(e0,{value:l[o],"onUpdate:value":e=>l[o]=e},null);case"widthAuto":return(0,a.bF)(e8,{value:l[o],"onUpdate:value":e=>l[o]=e},null);case"widthNumber":return(0,a.bF)(e7,{value:l[o],"onUpdate:value":e=>l[o]=e},null);case"fontWeight":return(0,a.bF)(lt,{value:l[o],"onUpdate:value":e=>l[o]=e},null);case"fontSize":return(0,a.bF)(la,{value:l[o],"onUpdate:value":e=>l[o]=e},null);case"lineHeight":return(0,a.bF)(lu,{value:l[o],"onUpdate:value":e=>l[o]=e},null);case"letterSpacing":return(0,a.bF)(ln,{value:l[o],"onUpdate:value":e=>l[o]=e},null);case"textAlign":return(0,a.bF)(lr,{value:l[o],"onUpdate:value":e=>l[o]=e,label:r},null);case"borderRadius":return(0,a.bF)(lk,{value:l[o],"onUpdate:value":e=>l[o]=e},null);case"layout":return(0,a.bF)(lx,{value:l[o],"onUpdate:value":e=>l[o]=e},null);case"custom":var i,d=e,v=t;if(d.render)return(0,a.bF)(a.FK,null,[d.render()]);if(d.key){return null==(i=v[d.key])?void 0:i.call(v)}return}})(l,e.value,t))])}}),lR={class:"mb-8px"},lw={class:"py-16px"},lL=(0,a.pM)({__name:"ColumnPropertiesPanel",setup(e){let{selectedBlockKey:l,columnsMap:t,cellMap:u,cellConfigMap:n,applyNewWidthColumnsInCell:r,delColumnsInCell:o}=C(),{autoSaveFn:i}=y(),d=(0,a.rk)("tabsRef"),v=(0,a.EW)(()=>t.value[l.value]),s=(0,a.EW)(()=>v.value.children.map(e=>u.value[e])),p=(0,a.KR)(0),c=()=>{let e=[];s.value.forEach(l=>{e.push(l.width)});let t=Math.floor(100/(e.length+1)),u=e.reduce((e,l)=>e+l,0),n=(100-(u+t))/u;e.push(t);for(let l=0;l<e.length-1;l++)e[l]=Math.floor(e[l]+e[l]*n);r(l.value,e),p.value=e.length-1,(0,a.dY)(()=>{var e;null==(e=d.value)||e.syncBarPosition()})},b=()=>{if(s.value.length<=1)return;let e=s.value.reduce((e,l)=>{let t=l.width;return{...e,[l.key]:t}},{}),t=s.value[p.value];delete e[t.key];let u=Object.values(e),n=u.reduce((e,l)=>e+l,0),i=(100-n)/n,v=100-(u=u.map(e=>Math.floor(e*(1+i)))).reduce((e,l)=>e+l,0);0!==v&&(u[u.length-1]+=v),o(l.value,t.key),r(l.value,u),p.value>=u.length&&(p.value=u.length-1),(0,a.dY)(()=>{var e;null==(e=d.value)||e.syncBarPosition()})},m=(0,a.EW)(()=>{var e;return(null==(e=s.value[p.value])?void 0:e.key)||""}),g=(0,a.EW)({get:()=>n.value[m.value].style,set(e){n.value[m.value].style=e}});(0,a.wB)(()=>[g.value],()=>{i()},{deep:!0});let[f]=l_([{attrKey:"backgroundColor",label:"Background Color"},{attrKey:"padding",label:"Padding"},{attrKey:"border",label:"Border"}]);return(e,l)=>{let t=eO.Ay,u=ew.A,n=eR.A;return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("div",lR,[(0,a.bF)(t,{onClick:c},{default:(0,a.k6)(()=>[...l[2]||(l[2]=[(0,a.eW)(" Add ",-1)])]),_:1}),(0,a.bF)(t,{class:"ml-10px",disabled:(0,a.R1)(s).length<=1,onClick:b},{default:(0,a.k6)(()=>[...l[3]||(l[3]=[(0,a.eW)("Delete",-1)])]),_:1},8,["disabled"])]),(0,a.bF)(n,{ref_key:"tabsRef",ref:d,value:(0,a.R1)(p),"onUpdate:value":l[0]||(l[0]=e=>(0,a.i9)(p)?p.value=e:null),class:"mb-8px",type:"line"},{default:(0,a.k6)(()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,a.R1)(s),(e,l)=>((0,a.uX)(),(0,a.Wv)(u,{key:e.key,name:l,tab:`Column ${l+1}`},null,8,["name","tab"]))),128))]),_:1},8,["value"]),(0,a.Lk)("div",lw,[(0,a.R1)(m)?((0,a.uX)(),(0,a.Wv)((0,a.R1)(f),{key:0,value:(0,a.R1)(g),"onUpdate:value":l[1]||(l[1]=e=>(0,a.i9)(g)?g.value=e:null)},null,8,["value"])):(0,a.Q3)("",!0)])])}}}),lA=(0,L.default)(lL,[["__scopeId","data-v-4906e614"]]),lF={class:"py-8px"},lM=(0,a.pM)({__name:"RowPropertiesPanel",setup(e){let{selectedBlockKey:l,columnsConfigMap:t}=C(),{autoSaveFn:u}=y(),n=(0,a.EW)({get:()=>t.value[l.value].style,set(e){t.value[l.value].style=e}}),r=(0,a.EW)({get:()=>t.value[l.value].containerStyle,set(e){t.value[l.value].containerStyle=e}});(0,a.wB)(()=>[n.value,r.value],()=>{u()},{deep:!0});let[o]=l_([{attrKey:"backgroundColor",label:"Background Color"},{attrKey:"custom",render:()=>(0,a.bF)(eV,{label:"Content Background Color",value:r.value.backgroundColor,"onUpdate:value":e=>{r.value.backgroundColor=e}},null)},{attrKey:"padding",label:"Padding"}]);return(e,l)=>((0,a.uX)(),(0,a.CE)("div",lF,[(0,a.bF)((0,a.R1)(o),{value:(0,a.R1)(n),"onUpdate:value":l[0]||(l[0]=e=>(0,a.i9)(n)?n.value=e:null)},null,8,["value"])]))}}),lE=(0,a.pM)({__name:"Columns",setup:e=>(e,l)=>{let t=eL.A;return(0,a.uX)(),(0,a.Wv)(eF,{"default-expanded-names":["1","2","3"]},{default:(0,a.k6)(()=>[(0,a.bF)(t,{title:"Columns",name:"1"},{default:(0,a.k6)(()=>[(0,a.bF)(eB)]),_:1}),(0,a.bF)(t,{title:"Column Properties",name:"2"},{default:(0,a.k6)(()=>[(0,a.bF)(lA)]),_:1}),(0,a.bF)(t,{title:"Row Properties",name:"3"},{default:(0,a.k6)(()=>[(0,a.bF)(lM)]),_:1})]),_:1})}});var lK=t(45449);let lS={class:"mt-12px"},lW={class:"mt-12px"},lU=(0,a.pM)({__name:"Link",props:{value:{},valueModifiers:{},target:{},targetModifiers:{}},emits:["update:value","update:target"],setup(e){let l=(0,a.fn)(e,"value"),t=(0,a.fn)(e,"target"),u=(0,a.KR)(!1),n=e=>{e?l.value="{{ UnsubscribeURL . }}":l.value=""};return(e,r)=>{let o=lK.A,i=e1.A;return(0,a.uX)(),(0,a.Wv)(eG,{label:"Link"},{options:(0,a.k6)(()=>[(0,a.Lk)("div",null,[(0,a.bF)(o,{value:l.value,"onUpdate:value":r[0]||(r[0]=e=>l.value=e),disabled:(0,a.R1)(u)},null,8,["value","disabled"])]),(0,a.Lk)("div",lS,[(0,a.bF)(i,{value:t.value,"onUpdate:value":r[1]||(r[1]=e=>t.value=e),"checked-value":"_blank","unchecked-value":"_self"},null,8,["value"]),r[3]||(r[3]=(0,a.Lk)("span",{class:"ml-8px"},"Open link in new tab",-1))]),(0,a.Lk)("div",lW,[(0,a.bF)(i,{value:(0,a.R1)(u),"onUpdate:value":[r[2]||(r[2]=e=>(0,a.i9)(u)?u.value=e:null),n]},null,8,["value"]),r[4]||(r[4]=(0,a.Lk)("span",{class:"ml-8px"},"Unsubscribe",-1))])]),_:1})}}}),lI={class:"pb-10px"},lD={class:"py-8px"},lX={class:"py-8px"},lB=(0,a.pM)({__name:"Button",setup(e){let{selectedBlockKey:l,blockConfigMap:t}=C(),{autoSaveFn:u}=y(),n=(0,a.EW)({get:()=>t.value[l.value].attr,set(e){t.value[l.value].attr=e}}),r=(0,a.EW)({get:()=>t.value[l.value].style,set(e){t.value[l.value].style=e}}),o=(0,a.EW)({get:()=>t.value[l.value].containerStyle,set(e){t.value[l.value].containerStyle=e}});(0,a.wB)(()=>[n.value,r.value,o.value],()=>{u()},{deep:!0});let[i]=l_([{attrKey:"custom",render:()=>(0,a.bF)(lU,{value:n.value.href,"onUpdate:value":e=>n.value.href=e,target:n.value.target,"onUpdate:target":e=>n.value.target=e},null)}]),[d]=l_([{attrKey:"backgroundColor",label:"Background Color"},{attrKey:"color",label:"Text Color"},{attrKey:"widthAuto",key:"width",label:"Width"},{attrKey:"fontWeight"},{attrKey:"fontSize"},{attrKey:"lineHeight"},{attrKey:"letterSpacing"},{attrKey:"padding"},{attrKey:"border"},{attrKey:"borderRadius"}]),[v]=l_([{attrKey:"textAlign"},{attrKey:"padding"}]);return(e,l)=>{let t=eL.A;return(0,a.uX)(),(0,a.Wv)(eF,{"default-expanded-names":["1","2","3"]},{default:(0,a.k6)(()=>[(0,a.bF)(t,{title:"Action",name:"1"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",lI,[(0,a.bF)((0,a.R1)(i),{value:(0,a.R1)(n),"onUpdate:value":l[0]||(l[0]=e=>(0,a.i9)(n)?n.value=e:null)},null,8,["value"])])]),_:1}),(0,a.bF)(t,{title:"Button Options",name:"2"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",lD,[(0,a.bF)((0,a.R1)(d),{value:(0,a.R1)(r),"onUpdate:value":l[1]||(l[1]=e=>(0,a.i9)(r)?r.value=e:null)},null,8,["value"])])]),_:1}),(0,a.bF)(t,{title:"Container",name:"3"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",lX,[(0,a.bF)((0,a.R1)(v),{value:(0,a.R1)(o),"onUpdate:value":l[2]||(l[2]=e=>(0,a.i9)(o)?o.value=e:null)},null,8,["value"])])]),_:1})]),_:1})}}}),lO={class:"pb-10px"},lT={class:"py-8px"},lH={class:"py-8px"},lP=(0,a.pM)({__name:"Link",setup(e){let{selectedBlockKey:l,blockConfigMap:t}=C(),{autoSaveFn:u}=y(),n=(0,a.EW)({get:()=>t.value[l.value].attr,set(e){t.value[l.value].attr=e}}),r=(0,a.EW)({get:()=>t.value[l.value].style,set(e){t.value[l.value].style=e}}),o=(0,a.EW)({get:()=>t.value[l.value].containerStyle,set(e){t.value[l.value].containerStyle=e}});(0,a.wB)(()=>[n.value,r.value,o.value],()=>{u()},{deep:!0});let[i]=l_([{attrKey:"custom",render:()=>(0,a.bF)(lU,{value:n.value.href,"onUpdate:value":e=>n.value.href=e,target:n.value.target,"onUpdate:target":e=>n.value.target=e},null)}]),[d]=l_([{attrKey:"color",label:"Text Color"},{attrKey:"fontWeight"},{attrKey:"fontSize"},{attrKey:"lineHeight"},{attrKey:"letterSpacing"}]),[v]=l_([{attrKey:"textAlign"},{attrKey:"padding"}]);return(e,l)=>{let t=eL.A;return(0,a.uX)(),(0,a.Wv)(eF,{"default-expanded-names":["1","2","3"]},{default:(0,a.k6)(()=>[(0,a.bF)(t,{title:"Action",name:"1"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",lO,[(0,a.bF)((0,a.R1)(i))])]),_:1}),(0,a.bF)(t,{title:"Link Options",name:"2"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",lT,[(0,a.bF)((0,a.R1)(d),{value:(0,a.R1)(r),"onUpdate:value":l[0]||(l[0]=e=>(0,a.i9)(r)?r.value=e:null)},null,8,["value"])])]),_:1}),(0,a.bF)(t,{title:"Container",name:"3"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",lH,[(0,a.bF)((0,a.R1)(v),{value:(0,a.R1)(o),"onUpdate:value":l[1]||(l[1]=e=>(0,a.i9)(o)?o.value=e:null)},null,8,["value"])])]),_:1})]),_:1})}}}),lz={class:"py-8px"},l$={class:"py-8px"},lN=(0,a.pM)({__name:"Divider",setup(e){let{selectedBlockKey:l,blockConfigMap:t}=C(),{autoSaveFn:u}=y(),n=(0,a.EW)({get:()=>t.value[l.value].style,set(e){t.value[l.value].style=e}}),r=(0,a.EW)({get:()=>t.value[l.value].containerStyle,set(e){t.value[l.value].containerStyle=e}});(0,a.wB)(()=>[n.value,r.value],()=>{u()},{deep:!0});let[o]=l_([{attrKey:"width"},{attrKey:"borderTop"}]),[i]=l_([{attrKey:"textAlign"},{attrKey:"padding"}]);return(e,l)=>{let t=eL.A;return(0,a.uX)(),(0,a.Wv)(eF,{"default-expanded-names":["1","2"]},{default:(0,a.k6)(()=>[(0,a.bF)(t,{title:"Line",name:"1"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",lz,[(0,a.bF)((0,a.R1)(o),{value:(0,a.R1)(n),"onUpdate:value":l[0]||(l[0]=e=>(0,a.i9)(n)?n.value=e:null)},null,8,["value"])])]),_:1}),(0,a.bF)(t,{title:"Container",name:"2"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",l$,[(0,a.bF)((0,a.R1)(i),{value:(0,a.R1)(r),"onUpdate:value":l[1]||(l[1]=e=>(0,a.i9)(r)?r.value=e:null)},null,8,["value"])])]),_:1})]),_:1})}}}),lq={class:"py-8px"},lG={class:"py-8px"},lj=(0,a.pM)({__name:"Header",setup(e){let{selectedBlockKey:l,blockConfigMap:t}=C(),{autoSaveFn:u}=y(),n=(0,a.EW)({get:()=>t.value[l.value].attr,set(e){t.value[l.value].attr=e}}),r=(0,a.EW)({get:()=>t.value[l.value].style,set(e){t.value[l.value].style=e}}),o=(0,a.EW)({get:()=>t.value[l.value].containerStyle,set(e){t.value[l.value].containerStyle=e}});(0,a.wB)(()=>[n.value,r.value,o.value],()=>{u()},{deep:!0});let[i]=l_([{attrKey:"head",key:"fontSize"},{attrKey:"fontWeight"},{attrKey:"fontSize"},{attrKey:"color",label:"Text Color"},{attrKey:"lineHeight"},{attrKey:"letterSpacing"}]),[d]=l_([{attrKey:"textAlign"},{attrKey:"padding"}]);return(e,l)=>{let t=eL.A;return(0,a.uX)(),(0,a.Wv)(eF,{"default-expanded-names":["1","2"]},{default:(0,a.k6)(()=>[(0,a.bF)(t,{title:"Header",name:"1"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",lq,[(0,a.bF)((0,a.R1)(i),{value:(0,a.R1)(r),"onUpdate:value":l[0]||(l[0]=e=>(0,a.i9)(r)?r.value=e:null)},null,8,["value"])])]),_:1}),(0,a.bF)(t,{title:"Container",name:"2"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",lG,[(0,a.bF)((0,a.R1)(d),{value:(0,a.R1)(o),"onUpdate:value":l[1]||(l[1]=e=>(0,a.i9)(o)?o.value=e:null)},null,8,["value"])])]),_:1})]),_:1})}}}),lQ={class:"py-8px"},lY={class:"py-8px"},lV=(0,a.pM)({__name:"Text",setup(e){let{selectedBlockKey:l,blockConfigMap:t}=C(),{autoSaveFn:u}=y(),n=(0,a.EW)({get:()=>t.value[l.value].attr,set(e){t.value[l.value].attr=e}}),r=(0,a.EW)({get:()=>t.value[l.value].style,set(e){t.value[l.value].style=e}}),o=(0,a.EW)({get:()=>t.value[l.value].containerStyle,set(e){t.value[l.value].containerStyle=e}});(0,a.wB)(()=>[n.value,r.value,o.value],()=>{u()},{deep:!0});let[i]=l_([{attrKey:"fontWeight"},{attrKey:"fontSize"},{attrKey:"color",label:"Text Color"},{attrKey:"lineHeight"},{attrKey:"letterSpacing"}]),[d]=l_([{attrKey:"textAlign"},{attrKey:"padding"}]);return(e,l)=>{let t=eL.A;return(0,a.uX)(),(0,a.Wv)(eF,{"default-expanded-names":["1","2"]},{default:(0,a.k6)(()=>[(0,a.bF)(t,{title:"Text",name:"1"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",lQ,[(0,a.bF)((0,a.R1)(i),{value:(0,a.R1)(r),"onUpdate:value":l[0]||(l[0]=e=>(0,a.i9)(r)?r.value=e:null)},null,8,["value"])])]),_:1}),(0,a.bF)(t,{title:"Container",name:"2"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",lY,[(0,a.bF)((0,a.R1)(d),{value:(0,a.R1)(o),"onUpdate:value":l[1]||(l[1]=e=>(0,a.i9)(o)?o.value=e:null)},null,8,["value"])])]),_:1})]),_:1})}}}),lJ=(0,a.pM)({__name:"Image",props:{value:{},valueModifiers:{}},emits:["update:value"],setup(e){let l=(0,a.fn)(e,"value");return(e,t)=>{let u=lK.A;return(0,a.uX)(),(0,a.Wv)(eG,{label:"Image URL"},{options:(0,a.k6)(()=>[(0,a.bF)(u,{value:l.value,"onUpdate:value":t[0]||(t[0]=e=>l.value=e)},null,8,["value"])]),_:1})}}}),lZ=(0,a.pM)({__name:"Title",props:{value:{},valueModifiers:{}},emits:["update:value"],setup(e){let l=(0,a.fn)(e,"value");return(e,t)=>{let u=lK.A;return(0,a.uX)(),(0,a.Wv)(eG,{label:"Alternate Text"},{options:(0,a.k6)(()=>[(0,a.bF)(u,{value:l.value,"onUpdate:value":t[0]||(t[0]=e=>l.value=e)},null,8,["value"])]),_:1})}}}),l0={class:"pb-10px"},l1={class:"pb-10px"},l6={class:"py-8px"},l2=(0,a.pM)({__name:"Image",setup(e){let{selectedBlockKey:l,blockConfigMap:t}=C(),{autoSaveFn:u}=y(),n=(0,a.EW)({get:()=>t.value[l.value].attr,set(e){t.value[l.value].attr=e}}),r=(0,a.EW)({get:()=>t.value[l.value].style,set(e){t.value[l.value].style=e}}),o=(0,a.EW)({get:()=>t.value[l.value].containerStyle,set(e){t.value[l.value].containerStyle=e}});(0,a.wB)(()=>[n.value,r.value,o.value],()=>{u()},{deep:!0});let[i]=l_([{attrKey:"custom",render:()=>(0,a.bF)(lJ,{value:n.value.src,"onUpdate:value":e=>n.value.src=e},null)},{attrKey:"widthAuto",key:"width"},{attrKey:"custom",render:()=>(0,a.bF)(lZ,{value:n.value.alt,"onUpdate:value":e=>n.value.alt=e},null)}]),[d]=l_([{attrKey:"custom",render:()=>(0,a.bF)(lU,{value:n.value.href,"onUpdate:value":e=>n.value.href=e,target:n.value.target,"onUpdate:target":e=>n.value.target=e},null)}]),[v]=l_([{attrKey:"textAlign"},{attrKey:"padding"}]);return(e,l)=>{let t=eL.A;return(0,a.uX)(),(0,a.Wv)(eF,{"default-expanded-names":["1","2","3"]},{default:(0,a.k6)(()=>[(0,a.bF)(t,{title:"Image",name:"1"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",l0,[(0,a.bF)((0,a.R1)(i),{value:(0,a.R1)(r),"onUpdate:value":l[0]||(l[0]=e=>(0,a.i9)(r)?r.value=e:null)},null,8,["value"])])]),_:1}),(0,a.bF)(t,{title:"Action",name:"2"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",l1,[(0,a.bF)((0,a.R1)(d),{value:(0,a.R1)(r),"onUpdate:value":l[1]||(l[1]=e=>(0,a.i9)(r)?r.value=e:null)},null,8,["value"])])]),_:1}),(0,a.bF)(t,{title:"Container",name:"3"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",l6,[(0,a.bF)((0,a.R1)(v),{value:(0,a.R1)(o),"onUpdate:value":l[2]||(l[2]=e=>(0,a.i9)(o)?o.value=e:null)},null,8,["value"])])]),_:1})]),_:1})}}}),l8={class:"flex-1"},l5={class:"flex-1"},l3=(0,a.pM)({__name:"Item",props:(0,a.zz)({menuId:{type:String,required:!0},menuIndex:{type:Number,required:!0},moveLink:{type:Function,required:!0},findLink:{type:Function,required:!0}},{label:{},labelModifiers:{},href:{},hrefModifiers:{}}),emits:(0,a.zz)(["del"],["update:label","update:href"]),setup(e,l){let{emit:t}=l,u=(0,a.fn)(e,"label"),n=(0,a.fn)(e,"href"),r=()=>{t("del")},[o,i,d]=(0,m.i3)({type:"MenuLink",item:()=>({id:e.menuId,index:e.menuIndex}),collect:e=>({isDragging:e.isDragging()}),end:(l,t)=>{let{id:a,index:u}=l;t.didDrop()||e.moveLink(a,u)}}),[,v]=(0,m.Hd)(()=>({accept:"MenuLink",hover(l){let{id:t}=l;if(t!==e.menuId){let{index:l}=e.findLink(e.menuId);e.moveLink(t,l)}}})),s=e=>{e&&d(v(e))},p=(0,a.EW)(()=>+!o.value.isDragging);return(e,l)=>{let t=lK.A;return(0,a.uX)(),(0,a.CE)("li",{ref:s,class:"link-items",style:(0,a.Tr)({opacity:(0,a.R1)(p)})},[(0,a.Lk)("div",l8,[(0,a.bF)(t,{value:u.value,"onUpdate:value":l[0]||(l[0]=e=>u.value=e)},null,8,["value"])]),(0,a.Lk)("div",l5,[(0,a.bF)(t,{value:n.value,"onUpdate:value":l[1]||(l[1]=e=>n.value=e)},null,8,["value"])]),(0,a.Lk)("div",{class:"w-auto cursor-pointer",onClick:r},[...l[2]||(l[2]=[(0,a.Lk)("i",{class:"i-mdi:delete-outline text-16px"},null,-1)])]),(0,a.Lk)("div",{ref:(0,a.R1)(i),class:"w-auto cursor-grab"},[...l[3]||(l[3]=[(0,a.Lk)("i",{class:"i-mdi:format-list-bulleted text-16px"},null,-1)])],512)],4)}}}),l9=(0,L.default)(l3,[["__scopeId","data-v-a5fb10ba"]]),l4={class:"w-full"},l7={class:"link-group"},te=(0,a.pM)({__name:"List",setup(e){let{selectedBlockKey:l,blockConfigMap:t}=C(),{autoSaveFn:u}=y(),n=(0,a.EW)({get:()=>t.value[l.value].attr.links||[],set(e){t.value[l.value].attr.links=e}});(0,a.wB)(()=>[n.value],()=>{u()},{deep:!0});let r=()=>{n.value.push({id:d(6),label:"",href:""})},o=e=>{let l=n.value.filter(l=>`${l.id}`===e)[0];return{link:l,index:n.value.indexOf(l)}},i=(e,l)=>{let{link:t,index:a}=o(e);n.value.splice(a,1),n.value.splice(l,0,t)};return(e,l)=>{let t=eO.Ay;return(0,a.uX)(),(0,a.CE)("div",l4,[(0,a.Lk)("ul",l7,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,a.R1)(n),(e,l)=>((0,a.uX)(),(0,a.Wv)(l9,{key:e.id,label:e.label,"onUpdate:label":l=>e.label=l,href:e.href,"onUpdate:href":l=>e.href=l,"menu-id":e.id,"menu-index":l,"find-link":o,"move-link":i,onDel:e=>{n.value.splice(l,1)}},null,8,["label","onUpdate:label","href","onUpdate:href","menu-id","menu-index","onDel"]))),128))]),(0,a.bF)(t,{block:"",class:"mt-12px",onClick:r},{default:(0,a.k6)(()=>[...l[0]||(l[0]=[(0,a.eW)("Add",-1)])]),_:1})])}}}),tl=(0,L.default)(te,[["__scopeId","data-v-6f12d8de"]]),tt={class:"py-8px"},ta={class:"py-8px"},tu=(0,a.pM)({__name:"Menu",setup(e){let{selectedBlockKey:l,blockConfigMap:t}=C(),{autoSaveFn:u}=y(),n=(0,a.EW)({get:()=>t.value[l.value].style,set(e){t.value[l.value].style=e}}),r=(0,a.EW)({get:()=>t.value[l.value].containerStyle,set(e){t.value[l.value].containerStyle=e}});(0,a.wB)(()=>[n.value,r.value],()=>{u()},{deep:!0});let[o]=l_([{attrKey:"fontWeight"},{attrKey:"fontSize"},{attrKey:"letterSpacing"},{attrKey:"color",label:"Text Color"},{attrKey:"layout",key:"display"},{attrKey:"padding"}]),[i]=l_([{attrKey:"textAlign"},{attrKey:"padding"}]);return(e,l)=>{let t=eL.A;return(0,a.uX)(),(0,a.Wv)(eF,{"default-expanded-names":["1","2","3"]},{default:(0,a.k6)(()=>[(0,a.bF)(t,{title:"Menu Items",name:"1"},{default:(0,a.k6)(()=>[(0,a.bF)(tl)]),_:1}),(0,a.bF)(t,{title:"Style",name:"2"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",tt,[(0,a.bF)((0,a.R1)(o),{value:(0,a.R1)(n),"onUpdate:value":l[0]||(l[0]=e=>(0,a.i9)(n)?n.value=e:null)},null,8,["value"])])]),_:1}),(0,a.bF)(t,{title:"Container",name:"3"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",ta,[(0,a.bF)((0,a.R1)(i),{value:(0,a.R1)(r),"onUpdate:value":l[1]||(l[1]=e=>(0,a.i9)(r)?r.value=e:null)},null,8,["value"])])]),_:1})]),_:1})}}});var tn=t(23995);let tr={class:"h-full pb-100px flex items-center justify-center"},to=(0,L.default)({},[["render",function(e,l){let t=tn.A;return(0,a.uX)(),(0,a.CE)("div",tr,[(0,a.bF)(t,{size:"large",description:"Please select a component"})])}]]),ti=(0,a.pM)({__name:"Content",setup(e){let{selectedBlockType:l,selectedBlockKey:t}=C(),u=(0,a.EW)(()=>{switch(l.value){case"columns":return lE;case"button":return lB;case"link":return lP;case"divider":return lN;case"header":return lj;case"text":return lV;case"image":return l2;case"menu":return tu;default:return to}});return(e,l)=>((0,a.uX)(),(0,a.Wv)((0,a.$y)((0,a.R1)(u)),{key:(0,a.R1)(t)}))}}),td={class:"p-20px"},tv=(0,a.pM)({__name:"Page",setup(e){let{pageConfig:l}=C(),{autoSaveFn:t}=y(),u=(0,a.EW)({get:()=>l.value.style,set(e){l.value.style=e}});(0,a.wB)(()=>[u.value],()=>{t()},{deep:!0});let[n]=l_([{attrKey:"backgroundColor",label:"Background Color"},{attrKey:"widthNumber",label:"Width",key:"width"}]);return(e,l)=>((0,a.uX)(),(0,a.CE)("div",td,[(0,a.bF)((0,a.R1)(n),{value:(0,a.R1)(u),"onUpdate:value":l[0]||(l[0]=e=>(0,a.i9)(u)?u.value=e:null)},null,8,["value"])]))}}),ts=(0,a.pM)({__name:"ConfigTabs",setup(e){let l=(0,a.KR)("config"),t=[{name:"config",label:"Content",component:ti},{name:"page",label:"Page",component:tv}];return(e,u)=>{let n=ew.A,r=eR.A;return(0,a.uX)(),(0,a.Wv)(r,{value:(0,a.R1)(l),"onUpdate:value":u[0]||(u[0]=e=>(0,a.i9)(l)?l.value=e:null),type:"line"},{default:(0,a.k6)(()=>[((0,a.uX)(),(0,a.CE)(a.FK,null,(0,a.pI)(t,e=>(0,a.bF)(n,{key:e.name,name:e.name,tab:e.label},{default:(0,a.k6)(()=>[((0,a.uX)(),(0,a.Wv)((0,a.$y)(e.component)))]),_:2},1032,["name","tab"])),64))]),_:1},8,["value"])}}}),tp=(0,L.default)(ts,[["__scopeId","data-v-013d29b4"]]),tc={class:"editor-sidebar"},ty=(0,a.pM)({__name:"EditorSidebar",setup:e=>(e,l)=>((0,a.uX)(),(0,a.CE)("div",tc,[(0,a.bF)(tp)]))}),tb=(0,L.default)(ty,[["__scopeId","data-v-7551391a"]]),tm={class:"email-editor"},tg=(0,a.pM)({__name:"index",props:{config:{},configModifiers:{},html:{},htmlModifiers:{}},emits:["update:config","update:html"],setup(e,l){let{expose:t}=l,r=(0,a.fn)(e,"config"),o=(0,a.fn)(e,"html"),{setData:d,getData:v,resetData:s,setSaveFn:p}=y(),{html:m,generateHtml:g}=(()=>{let e=n(),{columnsSource:l,columnsMap:t,columnsConfigMap:r,cellMap:o,cellConfigMap:d,blockMap:v,blockConfigMap:s,pageConfig:p}=(0,u.bP)(e),{configToStyle:y}=i(),b=(0,a.KR)(""),m=()=>{let e=f(),l={};return Object.entries(t.value).forEach(t=>{let[a,u]=t,n=document.createElement("tr"),o=document.createElement("td"),i=document.createElement("div"),d=r.value[a];h(n,d.containerStyle),h(i,d.style),i.style.width=p.value.style.width||"auto",i.style.margin="0 auto";let v=document.createElement("table");v.style.width="100%",v.style.borderSpacing="0";let s=document.createElement("tr");u.children.forEach(l=>{s.appendChild(e[l].dom)}),v.appendChild(s),i.appendChild(v),o.appendChild(i),n.appendChild(o),l[a]={dom:n}}),l},g=()=>{let e=document.createElement("tr"),l=document.createElement("td");return(0,a.XX)(c,l),e.appendChild(l),e},f=()=>{let e=k(),l={};return Object.entries(o.value).forEach(t=>{let[a,u]=t,n=document.createElement("td");n.style.width=`${u.width}%`,h(n,d.value[a].style),u.children.forEach(l=>{e[l]&&n.appendChild(e[l].dom)}),l[a]={dom:n}}),l},k=()=>{let e={};return Object.keys(v.value).forEach(l=>{let t=v.value[l],a=s.value[l],u=document.createElement("div");switch(h(u,a.containerStyle),t.type){case"button":u.appendChild(x(a));break;case"link":u.appendChild(_(a));break;case"divider":u.appendChild(C(a));break;case"header":u.appendChild(R(a));break;case"text":u.appendChild(w(a));break;case"image":u.appendChild(L(a));break;case"menu":u.appendChild(A(a))}e[l]={dom:u,config:a}}),e},h=(e,l)=>{Object.entries(y(l)).forEach(l=>{let[t,a]=l;e.style[t]=a})},x=e=>{let l=document.createElement("a");return l.href=e.attr.href??"",l.target=e.attr.target??"",l.innerHTML=(e.attr.content??"").replace("<p>",'<p style="margin: 0;">'),h(l,e.style),l},_=e=>{let l=document.createElement("a");return l.href=e.attr.href??"",l.target=e.attr.target??"",l.innerHTML=(e.attr.content??"").replace("<p>",'<p style="margin: 0;">'),h(l,e.style),l},C=e=>{let l=document.createElement("hr");return h(l,e.style),l},R=e=>{let l=document.createElement("div");return l.innerHTML=(e.attr.content??"").replace("<p>",'<p style="margin: 0;">'),h(l,e.style),l},w=e=>{let l=document.createElement("div");return l.innerHTML=(e.attr.content??"").replace("<p>",'<p style="margin: 0;">'),h(l,e.style),l},L=e=>{let l=document.createElement("img");if(l.src=e.attr.src??"",l.alt=e.attr.alt??"",e.attr.href){let t=document.createElement("a");return t.href=e.attr.href??"",t.target=e.attr.target??"",l.style.width="100%",t.appendChild(l),h(t,e.style),t}return h(l,e.style),l},A=e=>{var l;let t=document.createElement("div");return null==(l=e.attr.links)||l.forEach(l=>{let a=document.createElement("a");h(a,e.style),a.href=l.href,a.target=e.attr.target??"",a.innerHTML=l.label,t.appendChild(a)}),t};return{html:b,generateHtml:()=>{let e,t;b.value=(e=m(),(t=document.createElement("table")).style.backgroundColor=p.value.style.backgroundColor||"#fff",t.style.fontFamily=p.value.style.fontFamily||"PingFang SC, Microsoft YaHei",t.style.width="100%",t.style.borderSpacing="0",l.value.forEach(l=>{e[l]&&t.appendChild(e[l].dom)}),t.appendChild(g()),t).outerHTML}}})();return p(()=>{g(),o.value=m.value,r.value=v()}),(0,a.sV)(()=>{r.value?d(r.value):(r.value=b,o.value='<table style="background-color: rgb(255, 255, 255); width: 100%;"><tr><td><div style="padding: 0px; width: 500px; margin: 0px auto;"><table style="width: 100%;"><tr><td style="width: 100%; padding: 0px;"></td></tr></table></div></td></tr><tr><td><div style="padding: 0px; width: 500px; margin: 0px auto;"><table style="width: 100%;"><tr><td style="width: 100%; padding: 0px;"><div style="line-height: 1px; text-align: center; padding: 16px 10px;"><hr style="display: inline-block; width: 100%; margin: 0px; vertical-align: middle; box-sizing: border-box; border-top: 1px solid rgb(187, 187, 187);"></div><div style="text-align: center; padding: 10px;"><a href="{{ UnsubscribeURL . }}" target="_blank" style="display: inline-block; color: rgb(162, 162, 162); font-weight: normal; font-size: 12px; line-height: 120%; letter-spacing: 0px; text-decoration: none;"><p style="margin: 0;"><u>Unsubscribe</u></p></a></div></td></tr></table></div></td></tr><tr><td><div style="display: block; padding: 10px; line-height: 140%; color: rgb(153, 153, 153); text-align: center; font-size: 12px;"><span>Powered by </span><a href="https://www.billionmail.com" target="_blank" style="color: rgb(153, 153, 153); text-decoration: underline;">BillionMail</a></div></td></tr></table>',d(b))}),(0,a.xo)(()=>{s()}),t({setEmailData:e=>{d(e)},getEmailData:()=>v(),getEmailHTML:()=>(g(),m.value)}),(e,l)=>((0,a.uX)(),(0,a.Wv)(k,null,{default:(0,a.k6)(()=>[(0,a.Lk)("div",tm,[(0,a.bF)(eC),(0,a.bF)(ep),(0,a.bF)(tb)])]),_:1}))}}),tf=(0,L.default)(tg,[["__scopeId","data-v-9cb6dacb"]])}}]);