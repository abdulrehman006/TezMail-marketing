"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["4016"],{66009(e,l,t){t.d(l,{Gc:()=>u,PE:()=>o,Ug:()=>n,hQ:()=>s,rF:()=>r});var i=t(85020);let{t:a}=t(46831).Ay.global,s=()=>i.K.get("/settings/get_version"),n=()=>i.K.get("/docker_api/list"),o=e=>i.K.post("/docker_api/restart",e,{fetchOptions:{loading:a("settings.api.loading.restarting"),successMessage:!0}}),u=e=>i.K.post("/services/get_config",e),r=e=>i.K.post("/services/save_config",e,{fetchOptions:{loading:a("settings.api.loading.saving"),successMessage:!0}})},47939(e,l,t){t.r(l),t.d(l,{default:()=>K});var i=t(4628),a=t(90290),s=t(70559),n=t(53696),o=t(82806),u=t(10810),r=t(75220),d=t(40528),c=t(39396),p=t(3401);let m={href:"/"},g={class:"app-name"},b={class:"nav-section"},v={class:"footer-section"},k=(0,a.pM)({__name:"Sidebar",setup(e){let{t:l}=(0,p.s9)(),t=(0,r.lq)(),i=(0,d.ch)(),k=(0,d.kH)(),f=(0,d.on)(),{isCollapse:h}=(0,u.bP)(f),_=(0,a.EW)(()=>{var e;return String((null==(e=t.meta)?void 0:e.key)||"")}),y=(0,a.EW)(()=>i.menuList.filter(e=>e.meta&&!e.meta.hidden)),F=(0,a.EW)(()=>y.value.map(e=>{var t,i,a,s,n;let o=String((null==(i=e.children)||null==(t=i[0])?void 0:t.name)||""),u=String((null==(a=e.meta)?void 0:a.key)||""),r=String((null==(s=e.meta)?void 0:s.titleKey)||""),d=r?l(r):String((null==(n=e.meta)?void 0:n.title)||"");return{key:u,label:()=>R(o,d),icon:()=>L(u)}})),w=(0,a.KR)([{key:"logout",label:()=>(0,a.bF)("span",{class:"ml-10px"},[l("layout.menu.logout")]),icon:()=>L("logout")}]),R=(e,l)=>(0,a.bF)(r.Wk,{class:"flex items-center",to:{name:e}},{default:()=>[(0,a.bF)("span",null,[l])]}),x={overview:(0,a.bF)("i",{class:"i-mdi-web"},null),market:(0,a.bF)("i",{class:"i-mdi-email-fast-outline"},null),api:(0,a.bF)("i",{class:"i-mdi-chart-line"},null),contacts:(0,a.bF)("i",{class:"i-mdi-user-multiple-outline"},null),domain:(0,a.bF)("i",{class:"i-mdi-web"},null),mailbox:(0,a.bF)("i",{class:"i-custom:mailbox"},null),smtp:(0,a.bF)("i",{class:"i-custom:smtp"},null),settings:(0,a.bF)("i",{class:"i-mdi-settings-outline"},null),template:(0,a.bF)("i",{class:"i-mdi-settings-outline"},null),logs:(0,a.bF)("i",{class:"i-icon-park-outline:log"},null),logout:(0,a.bF)("i",{class:"i-mdi-logout"},null)},L=e=>x[e],M=e=>{if("logout"===e&&k.logout(),"webmail"===e){let e=y.value.find(e=>{var l;return(null==(l=e.meta)?void 0:l.key)==="webmail"});if(e){var l;let t=String(null==(l=e.meta)?void 0:l.href);window.open(t)}}};return(0,a.sV)(()=>{i.setMenuList(c.oM)}),(e,l)=>{let t=n.A,i=s.A;return(0,a.uX)(),(0,a.Wv)(i,{"collapse-mode":"width",collapsed:(0,a.R1)(h),width:200,"collapsed-width":64,"content-style":{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"}},{default:(0,a.k6)(()=>[(0,a.Lk)("div",{class:(0,a.C4)(["app-logo",{collapse:(0,a.R1)(h)}])},[(0,a.Lk)("a",m,[l[0]||(l[0]=(0,a.Lk)("img",{class:"icon",src:o},null,-1)),(0,a.bo)((0,a.Lk)("span",g,"TezMail",512),[[a.aG,!(0,a.R1)(h)]])])],2),(0,a.Lk)("div",b,[(0,a.bF)(t,{value:(0,a.R1)(_),collapsed:(0,a.R1)(h),"collapsed-width":64,options:(0,a.R1)(F),"root-indent":24,"onUpdate:value":M},null,8,["value","collapsed","options"])]),(0,a.Lk)("div",v,[(0,a.bF)(t,{value:"",collapsed:(0,a.R1)(h),"collapsed-width":64,options:(0,a.R1)(w),"root-indent":24,"onUpdate:value":M},null,8,["collapsed","options"])])]),_:1},8,["collapsed"])}}});var f=t(64901);let h=(0,f.default)(k,[["__scopeId","data-v-1ffd96bb"]]),_=(0,a.pM)({__name:"AppMain",setup(e){let l=(0,a.EW)(()=>Math.random());return(e,t)=>{let i=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.Wv)(i,{key:(0,a.R1)(l)},{default:(0,a.k6)(e=>{let{Component:l,route:t}=e;return[((0,a.uX)(),(0,a.Wv)((0,a.$y)(l),{key:t.path}))]}),_:1})}}});var y=t(58588),F=t(80785),w=t(27546),R=t(66009),x=t(12532);let L={class:"header-left"},M={class:"header-right"},W=(0,a.pM)({__name:"AppHeader",props:{top:{type:Number,default:0}},setup(e){let{t:l}=(0,p.s9)(),t=(0,a.KR)("--"),i=(0,d.kH)(),s=(0,d.on)(),{isCollapse:n,langList:o}=(0,u.bP)(s),r=(0,d.Ct)(),{theme:c}=(0,u.bP)(r),m=()=>{s.setCollapse()},g=()=>{window.open("https://github.com/aaPanel/BillionMail/issues")},b=(0,a.KR)([]),v=(0,a.KR)([{label:l("layout.menu.logout"),key:"logout"}]),k=()=>{r.setTheme("dark"===c.value?"light":"dark")},f=async e=>{await s.setLang(e),window.location.reload()},h=e=>{"logout"===e&&i.logout()},_=()=>{window.open("https://github.com/aaPanel/BillionMail/releases")},W=async()=>{b.value=o.value.map(e=>({label:e.cn,key:e.name}))},C=async()=>{let e=await (0,R.hQ)();(0,x.Gv)(e)&&(t.value=`v${e.version}`)};return(0,a.sV)(()=>{C(),W()}),(i,s)=>{let o=w.Ay,u=F.A,r=y.A;return(0,a.uX)(),(0,a.Wv)(r,{ref:"headerRef",style:(0,a.Tr)({top:`${e.top}px`})},{default:(0,a.k6)(()=>[(0,a.Lk)("div",L,[(0,a.bF)(o,{class:"icon-btn",bordered:!1,onClick:m},{default:(0,a.k6)(()=>[(0,a.Lk)("i",{class:(0,a.C4)(["icon",(0,a.R1)(n)?"i-mdi-menu-close":"i-mdi-menu-open"])},null,2)]),_:1}),(0,a.bF)(o,{type:"primary",text:"",class:"text-14px",onClick:g},{default:(0,a.k6)(()=>[(0,a.eW)((0,a.v_)((0,a.R1)(l)("layout.header.submit"))+" ",1),s[0]||(s[0]=(0,a.Lk)("i",{class:"i-mdi:arrow-right ml-1px"},null,-1))]),_:1})]),(0,a.Lk)("div",M,[(0,a.bF)(o,{class:"icon-btn",bordered:!1,onClick:k},{default:(0,a.k6)(()=>[(0,a.Lk)("i",{class:(0,a.C4)(["icon","light"===(0,a.R1)(c)?"i-ri-sun-line":"i-ri-moon-line"])},null,2)]),_:1}),(0,a.R1)(b).length>0?((0,a.uX)(),(0,a.Wv)(u,{key:0,size:"large",options:(0,a.R1)(b),onSelect:f},{default:(0,a.k6)(()=>[(0,a.bF)(o,{class:"icon-btn",bordered:!1},{default:(0,a.k6)(()=>[...s[1]||(s[1]=[(0,a.Lk)("i",{class:"icon i-mdi-language text-20px"},null,-1)])]),_:1})]),_:1},8,["options"])):(0,a.Q3)("",!0),(0,a.bF)(u,{size:"large",options:(0,a.R1)(v),onSelect:h},{default:(0,a.k6)(()=>[(0,a.bF)(o,{class:"icon-btn",bordered:!1},{default:(0,a.k6)(()=>[...s[2]||(s[2]=[(0,a.Lk)("i",{class:"icon i-mdi-user-outline"},null,-1)])]),_:1})]),_:1},8,["options"]),(0,a.bF)(o,{type:"primary",text:"",class:"text-14px",onClick:_},{default:(0,a.k6)(()=>[(0,a.eW)((0,a.v_)((0,a.R1)(t)),1)]),_:1})])]),_:1},8,["style"])}}}),C=(0,f.default)(W,[["__scopeId","data-v-b298196f"]]),K=(0,a.pM)({__name:"index",setup(e){let l=(0,a.KR)(0),t=e=>{l.value=e.target.scrollTop||0};return(e,s)=>{let n=i.Ay;return(0,a.uX)(),(0,a.Wv)(n,{class:"w-full h-full","has-sider":""},{default:(0,a.k6)(()=>[(0,a.bF)((0,a.R1)(h)),(0,a.bF)(n,{"content-style":{position:"relative",paddingTop:"48px"},onScroll:t},{default:(0,a.k6)(()=>[(0,a.bF)((0,a.R1)(C),{top:(0,a.R1)(l)},null,8,["top"]),(0,a.bF)((0,a.R1)(_))]),_:1})]),_:1})}}})},82806(e,l,t){e.exports=t.p+"static/image/logo.3b07dac3.png"}}]);