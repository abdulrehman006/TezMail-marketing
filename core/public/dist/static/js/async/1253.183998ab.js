"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["1253"],{60045(e,t,l){l.d(t,{h:()=>n});var s=l(90290),a=l(98179);let i=Symbol("MODAL_INJECT"),n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{state:t={},component:l,onCancel:n,onConfirm:r}=e,o=(0,s.Kh)({});return l?[(0,s.pM)({setup(a,n){let{attrs:r,slots:c}=n;return(0,s.Gt)(i,{state:t,options:e,extendApi:e=>{Object.setPrototypeOf(o,e)},setState:e=>{Object.assign(t,e)}}),()=>(0,s.h)(l,{...a,...r},c)}}),o]:[(0,s.pM)({setup(t,l){let{attrs:c,slots:d}=l,u=(0,s.WQ)(i),m=(0,s.KR)(!1);return o.open=()=>{var t;m.value=!0,null==(t=e.onChangeState)||t.call(e,m.value)},o.close=()=>{m.value=!1},o.setState=t=>{var l;null==u||u.setState(t),null==(l=e.onChangeState)||l.call(e,m.value)},o.getState=()=>(null==u?void 0:u.state)??{},null==u||u.extendApi(o),()=>(0,s.bF)(a.A,(0,s.v6)({show:m.value},t,c,{onCancel:n,onConfirm:r,"onUpdate:show":e=>{m.value=e??!1}}),d)}}),o]}},24646(e,t,l){l.d(t,{T:()=>n});var s=l(12532),a=l(97786),i=l(46831);let n=()=>{let{t:e}=i.Ay.global,{copy:t,isSupported:l,copied:n}=(0,a.iDZ)({legacy:!0});return{copied:n,copyText:async function(a){let i=!(arguments.length>1)||void 0===arguments[1]||arguments[1];a?l.value?(await t(a),i&&s.QB.success(e("common.useCopy.success"))):s.QB.error(e("common.useCopy.failed")):s.QB.error(e("common.useCopy.noText"))}}}},13665(e,t,l){l.d(t,{A:()=>i});var s=l(62408),a=l(90290);let i=(0,a.pM)({__name:"index",props:{model:{},rules:{},labelWidth:{},labelPlacement:{default:"top"}},setup(e,t){let{expose:l}=t,i=(0,a.KR)(null);return l({validate:()=>{var e;return null==(e=i.value)?void 0:e.validate()},restoreValidation:()=>{var e;return null==(e=i.value)?void 0:e.restoreValidation()}}),(t,l)=>{let n=s.A;return(0,a.uX)(),(0,a.Wv)(n,(0,a.v6)(t.$attrs,{ref_key:"formRef",ref:i,model:e.model,rules:e.rules,"label-width":e.labelWidth,"label-placement":e.labelPlacement}),{default:(0,a.k6)(()=>[(0,a.RG)(t.$slots,"default")]),_:3},16,["model","rules","label-width","label-placement"])}}})},54116(e,t,l){l.r(t),l.d(t,{default:()=>tC});var s=l(90290),a=l(10810),i=l(5305),n=l(2831);function r(e,t){let l=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return l<0?-1:l>0?1:l}var o=l(12532),c=l(85020);let{t:d}=l(46831).Ay.global,u=e=>c.K.post("/settings/set_system_config_key",e,{fetchOptions:{loading:d("settings.api.loading.setting"),successMessage:!0}}),m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c.K.post("/settings/delete_reverse_proxy_domain",e,{fetchOptions:{loading:d("settings.api.loading.clearing"),successMessage:!0}})},p=(0,a.nY)("SettingsCommonStore",()=>{let e=(0,s.KR)(""),t=(0,s.KR)(!1),l=(0,s.KR)({level:"weak",score:0}),a=(0,s.KR)(""),d=(0,s.Kh)({username:"",newPassword:"",confirmPassword:"",securityPath:""}),u=(0,s.Kh)({domain:"",sslEnabled:!0,sslCert:"",sslKey:""}),m=(0,s.Kh)({status:!1,expireTime:"",expireDays:0}),p=(0,s.KR)(""),v=(0,s.KR)(""),g=(0,s.KR)(""),b=(0,s.KR)(""),_=(0,s.KR)(""),f=(0,s.KR)(""),k=(0,s.KR)(!1),h=(0,s.KR)([]),x=(0,s.KR)(""),y=(0,s.Kh)({api_doc_enabled:!1,api_doc_url:"",api_token:"",swagger_url:""}),w=(0,s.KR)({alert_enabled:!1,auto_scan_enabled:!1,alert_settings:{name:"",sender_email:"",smtp_password:"",smtp_server:"",smtp_port:465,recipient_list:[]}}),R=async()=>{let t=await c.K.get("/settings/get_system_config");if((0,o.Gv)(t)){if(e.value=t.admin_username,a.value=t.safe_path,p.value=t.billionmail_hostname,f.value=t.server_ip,k.value=t.ip_whitelist_enable,h.value=t.ip_whitelist,t.manage_ports&&(v.value=`${t.manage_ports.https}`,g.value=t.manage_ports.command_https),t.manage_timezone&&(b.value=t.manage_timezone.timezone,_.value=t.manage_timezone.command),t.ssl){u.sslCert=t.ssl.certPem,u.sslKey=t.ssl.privateKey,m.status=t.ssl.status;let e=new Date(t.ssl.notAfter);m.expireTime=(0,o.fU)(e,"yyyy-MM-dd"),m.expireDays=function(e,t,l){let[s,a]=(0,i.x)(void 0,e,t),o=r(s,a),c=Math.abs((0,n.m)(s,a));s.setDate(s.getDate()-o*c);let d=Number(r(s,a)===-o),u=o*(c-d);return 0===u?0:u}(e,new Date)}t.reverse_proxy_domain&&(x.value=t.reverse_proxy_domain.reverse_proxy||t.reverse_proxy_domain.current_url),t.api_doc_swagger&&(y.api_doc_enabled=t.api_doc_swagger.api_doc_enabled,y.api_doc_url=t.api_doc_swagger.api_doc_url,y.api_token=t.api_doc_swagger.api_token,y.swagger_url=t.api_doc_swagger.swagger_url),t.blacklist_config&&(w.value=t.blacklist_config)}};return{currentUsername:e,currentPath:a,passwordMismatch:t,passwordStrength:l,securityForm:d,networkForm:u,sslInfo:m,currentDomain:p,currentPort:v,portCommand:g,currentTime:b,timeCommand:_,serverIp:f,ipWhitelistEnable:k,ipWhitelistList:h,currentProxy:x,apiInfo:y,blacklistConfig:w,checkPasswordStrength:()=>{let e=d.newPassword,t=0;e.length>=8&&t++,e.match(/[a-z]/)&&t++,e.match(/[A-Z]/)&&t++,e.match(/[0-9]/)&&t++,e.match(/[^a-zA-Z0-9]/)&&t++,t<=2?l.value={level:"weak",score:t}:t<=4?l.value={level:"medium",score:t}:l.value={level:"strong",score:t}},getCommonConfig:R,reset:()=>{d.username="",d.newPassword="",d.confirmPassword="",d.securityPath="",u.domain="",u.sslEnabled=!0,u.sslCert="",u.sslKey="",m.status=!1,m.expireTime="",m.expireDays=0,v.value="",g.value="",b.value="",_.value="",f.value="",t.value=!1,l.value={level:"weak",score:0},y.api_doc_enabled=!1,y.api_doc_url="",y.api_token="",y.swagger_url=""}}}),v=()=>{let e=p();return{...e,...(0,a.bP)(e)}};var g=l(23141),b=l(62408),_=l(49359),f=l(50922),k=l(4019),h=l(22379),x=l(75454);let y=(0,x.cB)("divider",`
 position: relative;
 display: flex;
 width: 100%;
 box-sizing: border-box;
 font-size: 16px;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
`,[(0,x.C5)("vertical",`
 margin-top: 24px;
 margin-bottom: 24px;
 `,[(0,x.C5)("no-title",`
 display: flex;
 align-items: center;
 `)]),(0,x.cE)("title",`
 display: flex;
 align-items: center;
 margin-left: 12px;
 margin-right: 12px;
 white-space: nowrap;
 font-weight: var(--n-font-weight);
 `),(0,x.cM)("title-position-left",[(0,x.cE)("line",[(0,x.cM)("left",{width:"28px"})])]),(0,x.cM)("title-position-right",[(0,x.cE)("line",[(0,x.cM)("right",{width:"28px"})])]),(0,x.cM)("dashed",[(0,x.cE)("line",`
 background-color: #0000;
 height: 0px;
 width: 100%;
 border-style: dashed;
 border-width: 1px 0 0;
 `)]),(0,x.cM)("vertical",`
 display: inline-block;
 height: 1em;
 margin: 0 8px;
 vertical-align: middle;
 width: 1px;
 `),(0,x.cE)("line",`
 border: none;
 transition: background-color .3s var(--n-bezier), border-color .3s var(--n-bezier);
 height: 1px;
 width: 100%;
 margin: 0;
 `),(0,x.C5)("dashed",[(0,x.cE)("line",{backgroundColor:"var(--n-color)"})]),(0,x.cM)("dashed",[(0,x.cE)("line",{borderColor:"var(--n-color)"})]),(0,x.cM)("vertical",{backgroundColor:"var(--n-color)"})]),w=Object.assign(Object.assign({},_.A.props),{titlePlacement:{type:String,default:"center"},dashed:Boolean,vertical:Boolean}),R=(0,s.pM)({name:"Divider",props:w,setup(e){let{mergedClsPrefixRef:t,inlineThemeDisabled:l}=(0,f.Ay)(e),a=(0,_.A)("Divider","-divider",y,h.A,e,t),i=(0,s.EW)(()=>{let{common:{cubicBezierEaseInOut:e},self:{color:t,textColor:l,fontWeight:s}}=a.value;return{"--n-bezier":e,"--n-color":t,"--n-text-color":l,"--n-font-weight":s}}),n=l?(0,k.R)("divider",void 0,i,e):void 0;return{mergedClsPrefix:t,cssVars:l?void 0:i,themeClass:null==n?void 0:n.themeClass,onRender:null==n?void 0:n.onRender}},render(){var e;let{$slots:t,titlePlacement:l,vertical:a,dashed:i,cssVars:n,mergedClsPrefix:r}=this;return null==(e=this.onRender)||e.call(this),(0,s.h)("div",{role:"separator",class:[`${r}-divider`,this.themeClass,{[`${r}-divider--vertical`]:a,[`${r}-divider--no-title`]:!t.default,[`${r}-divider--dashed`]:i,[`${r}-divider--title-position-${l}`]:t.default&&l}],style:n},a?null:(0,s.h)("div",{class:`${r}-divider__line ${r}-divider__line--left`}),!a&&t.default?(0,s.h)(s.FK,null,(0,s.h)("div",{class:`${r}-divider__title`},this.$slots),(0,s.h)("div",{class:`${r}-divider__line ${r}-divider__line--right`})):null)}});var F=l(82078),L=l(27546),C=l(60801),$=l(45449),A=l(3401);let S={class:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4"},E={class:"mt-1 text-xs text-desc"},M={class:"mt-1 text-xs text-desc"},K={class:"mt-4px"},W=(0,s.pM)({__name:"UsernameSettings",setup(e,t){let{expose:l}=t,{t:a}=(0,A.s9)(),{currentUsername:i,securityForm:n}=v(),r=(0,s.rk)("formItemRef"),o=async()=>{var e;await (null==(e=r.value)?void 0:e.validate()),await u({key:"admin_username",value:n.value.username}),i.value=n.value.username,n.value.username=""};return l({rules:{username:{trigger:["blur","input"],validator:()=>{let{username:e}=n.value;return e.length<4||e.length>20?Error(a("settings.common.security.usernameValidation.lengthError")):/^[a-zA-Z0-9_]+$/.test(e)?e!==i.value||Error(a("settings.common.security.usernameValidation.duplicateError")):Error(a("settings.common.security.usernameValidation.formatError"))}}}}),(e,t)=>{let l=$.A,a=C.Ay,c=L.Ay;return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(a,{ref_key:"formItemRef",ref:r,label:e.$t("settings.common.security.username"),path:"username"},{default:(0,s.k6)(()=>[(0,s.Lk)("div",S,[(0,s.Lk)("div",null,[(0,s.bF)(l,{value:(0,s.R1)(i),disabled:""},null,8,["value"]),(0,s.Lk)("p",E,(0,s.v_)(e.$t("settings.common.security.currentUsername")),1)]),(0,s.Lk)("div",null,[(0,s.bF)(l,{value:(0,s.R1)(n).username,"onUpdate:value":t[0]||(t[0]=e=>(0,s.R1)(n).username=e),placeholder:e.$t("settings.common.security.newUsernamePlaceholder")},null,8,["value","placeholder"]),(0,s.Lk)("p",M,(0,s.v_)(e.$t("settings.common.security.usernameRule")),1)])])]),_:1},8,["label"]),(0,s.Lk)("div",K,[(0,s.bF)(c,{type:"primary",disabled:!(0,s.R1)(n).username,onClick:o},{default:(0,s.k6)(()=>[(0,s.eW)((0,s.v_)(e.$t("settings.common.confirm")),1)]),_:1},8,["disabled"])])],64)}}}),P={class:"mt-2 flex items-center"},z={class:"flex-1 bg-gray-200 rounded-full h-1 mr-2"},U={class:"text-xs text-gray-500"},O=(0,s.pM)({__name:"PasswordStrengthIndicator",props:{strength:{type:Object,required:!0}},setup(e){let{t}=(0,A.s9)(),l=(0,s.EW)(()=>{switch(e.strength.level){case"weak":return"bg-error";case"medium":return"bg-warning";case"strong":return"bg-primary";default:return"bg-gray-300"}}),a=(0,s.EW)(()=>{switch(e.strength.level){case"weak":return"30%";case"medium":return"60%";case"strong":return"100%";default:return"0%"}}),i=(0,s.EW)(()=>t(`settings.common.security.strength.${e.strength.level}`));return(e,n)=>((0,s.uX)(),(0,s.CE)("div",P,[(0,s.Lk)("div",z,[(0,s.Lk)("div",{class:(0,s.C4)(["h-1 rounded-full transition-all duration-300",(0,s.R1)(l)]),style:(0,s.Tr)({width:(0,s.R1)(a)})},null,6)]),(0,s.Lk)("span",U,(0,s.v_)((0,s.R1)(t)("settings.common.security.passwordStrength"))+": "+(0,s.v_)((0,s.R1)(i)),1)]))}}),D={class:"flex-1 flex flex-col gap-20px"},T=(0,s.pM)({__name:"PasswordSettings",setup(e,t){let{expose:l}=t,{t:a}=(0,A.s9)(),{securityForm:i,passwordStrength:n,checkPasswordStrength:r}=v(),o=(0,s.rk)("formItemRef"),c=(0,s.EW)(()=>!i.value.newPassword||!i.value.confirmPassword),d=()=>{r()},m=async()=>{var e;await (null==(e=o.value)?void 0:e.validate()),await u({key:"admin_password",value:i.value.newPassword}),i.value.newPassword="",i.value.confirmPassword=""};return l({rules:{password:{trigger:["input","blur"],validator:()=>!i.value.newPassword||!i.value.confirmPassword||i.value.newPassword===i.value.confirmPassword||Error(a("settings.common.security.passwordMismatch"))}}}),(e,t)=>{let l=$.A,r=C.Ay,u=L.Ay;return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(r,{ref_key:"formItemRef",ref:o,label:e.$t("settings.common.security.changePassword"),path:"password"},{default:(0,s.k6)(()=>[(0,s.Lk)("div",D,[(0,s.Lk)("div",null,[(0,s.bF)(l,{value:(0,s.R1)(i).newPassword,"onUpdate:value":[t[0]||(t[0]=e=>(0,s.R1)(i).newPassword=e),d],type:"password",class:"password-input","show-password-on":"click",placeholder:(0,s.R1)(a)("settings.common.security.newPassword")},null,8,["value","placeholder"]),(0,s.bF)(O,{strength:(0,s.R1)(n)},null,8,["strength"])]),(0,s.Lk)("div",null,[(0,s.bF)(l,{value:(0,s.R1)(i).confirmPassword,"onUpdate:value":t[1]||(t[1]=e=>(0,s.R1)(i).confirmPassword=e),type:"password",class:"password-input","show-password-on":"click",placeholder:(0,s.R1)(a)("settings.common.security.confirmPassword")},null,8,["value","placeholder"])])])]),_:1},8,["label"]),(0,s.Lk)("div",null,[(0,s.bF)(u,{type:"primary",disabled:(0,s.R1)(c),onClick:m},{default:(0,s.k6)(()=>[(0,s.eW)((0,s.v_)((0,s.R1)(a)("settings.common.confirm")),1)]),_:1},8,["disabled"])])],64)}}}),X={class:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4"},B={class:"mt-1 text-xs text-desc"},I={class:"mt-1 text-xs text-desc"},j={class:"mt-4px"},V=(0,s.pM)({__name:"SecurityPathSettings",setup(e){let{t}=(0,A.s9)(),{currentPath:l,securityForm:a}=v(),i=async()=>{await u({key:"safe_path",value:a.value.securityPath}),l.value=a.value.securityPath,a.value.securityPath=""};return(e,n)=>{let r=$.A,o=C.Ay,c=L.Ay;return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(o,{label:(0,s.R1)(t)("settings.common.security.securityPath")},{default:(0,s.k6)(()=>[(0,s.Lk)("div",X,[(0,s.Lk)("div",null,[(0,s.bF)(r,{value:(0,s.R1)(l),disabled:""},null,8,["value"]),(0,s.Lk)("p",B,(0,s.v_)((0,s.R1)(t)("settings.common.security.currentPath")),1)]),(0,s.Lk)("div",null,[(0,s.bF)(r,{value:(0,s.R1)(a).securityPath,"onUpdate:value":n[0]||(n[0]=e=>(0,s.R1)(a).securityPath=e),placeholder:(0,s.R1)(t)("settings.common.security.newPathPlaceholder")},null,8,["value","placeholder"]),(0,s.Lk)("p",I,(0,s.v_)((0,s.R1)(t)("settings.common.security.pathRule")),1)])])]),_:1},8,["label"]),(0,s.Lk)("div",j,[(0,s.bF)(c,{type:"primary",disabled:!(0,s.R1)(a).securityPath,onClick:i},{default:(0,s.k6)(()=>[(0,s.eW)((0,s.v_)((0,s.R1)(t)("settings.common.confirm")),1)]),_:1},8,["disabled"])])],64)}}}),J={class:"flex items-center"},N={class:"text-lg font-medium"},Q=(0,s.pM)({__name:"SecuritySettings",setup(e){let{t}=(0,A.s9)(),{securityForm:l}=v(),a=(0,s.KR)({}),i=(0,s.rk)("usernameRef"),n=(0,s.rk)("passwordRef");return(0,s.sV)(()=>{i.value&&(a.value={...a.value,...i.value.rules}),n.value&&(a.value={...a.value,...n.value.rules})}),(e,r)=>{let o=F._,c=b.A,d=g.Ay;return(0,s.uX)(),(0,s.Wv)(d,{class:"mb-8",bordered:!1},{header:(0,s.k6)(()=>[(0,s.Lk)("div",J,[(0,s.bF)(o,{class:"mr-2 text-primary",size:"20"},{default:(0,s.k6)(()=>[...r[0]||(r[0]=[(0,s.Lk)("i",{class:"i-mdi-shield-account"},null,-1)])]),_:1}),(0,s.Lk)("span",N,(0,s.v_)((0,s.R1)(t)("settings.common.security.title")),1)])]),default:(0,s.k6)(()=>[(0,s.bF)(c,{model:(0,s.R1)(l),rules:(0,s.R1)(a)},{default:(0,s.k6)(()=>[(0,s.bF)(W,{ref_key:"usernameRef",ref:i},null,512),(0,s.bF)(R),(0,s.bF)(T,{ref_key:"passwordRef",ref:n},null,512),(0,s.bF)(R),(0,s.bF)(V)]),_:1},8,["model","rules"])]),_:1})}}});var Z=l(45679);let q={class:"block text-sm font-medium mb-3"},G={class:"flex items-center mb-4"},H={class:"ml-2 font-medium"},Y={class:"mt-6"},ee={class:"block text-sm font-medium mb-2"},et={class:"flex items-center"},el={class:"text-sm"},es={class:"text-sm"},ea={class:"text-sm"},ei={class:"flex gap-16px mt-16px"},en={class:"flex-1"},er={class:"block text-sm font-medium mb-2"},eo={class:"flex-1"},ec={class:"block text-sm font-medium mb-2"},ed={class:"mt-16px"},eu=(0,s.pM)({__name:"SSLSettings",setup(e){let{t}=(0,A.s9)(),{networkForm:l,sslInfo:a,currentDomain:i,serverIp:n,getCommonConfig:r}=v(),u=(0,s.EW)(()=>!l.value.sslCert||!l.value.sslKey),m=async()=>{let e;await (e={certPem:l.value.sslCert,privateKey:l.value.sslKey},c.K.post("/settings/set_ssl_config",e,{fetchOptions:{loading:d("settings.api.loading.settingSSL"),successMessage:!0}})),r()},p=()=>{(0,o.lJ)({title:"Apply SSL",width:460,content:()=>(0,s.bF)("div",{style:{lineHeight:"22px"}},[(0,s.bF)("div",{class:"mb-8px"},[(0,s.eW)("Certificate Application Functionality:")]),(0,s.bF)("div",null,[(0,s.eW)("- Implement certificate application using hostname")]),(0,s.bF)("div",null,[(0,s.eW)("- Ensure the hostname has a valid A record configured with:")]),(0,s.bF)("div",null,[(0,s.eW)("- Record Type: "),(0,s.bF)("b",null,[(0,s.eW)("A")])]),(0,s.bF)("div",null,[(0,s.eW)("- Host: "),(0,s.bF)("b",null,[i.value])]),(0,s.bF)("div",null,[(0,s.eW)("- Value: "),(0,s.bF)("b",null,[n.value])])]),onConfirm:async()=>{await c.K.post("/ssl/console_apply_cert",{},{fetchOptions:{loading:d("settings.api.loading.applyingCert"),successMessage:!0}}),r()}})};return(e,i)=>{let n=Z.A,r=$.A,o=L.Ay;return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("label",q,(0,s.v_)((0,s.R1)(t)("settings.common.network.ssl")),1),(0,s.Lk)("div",G,[(0,s.bF)(n,{value:(0,s.R1)(l).sslEnabled,"onUpdate:value":i[0]||(i[0]=e=>(0,s.R1)(l).sslEnabled=e),disabled:""},null,8,["value"]),(0,s.Lk)("label",H,(0,s.v_)((0,s.R1)(t)("settings.common.network.sslEnabled")),1)]),(0,s.Lk)("div",Y,[(0,s.Lk)("label",ee,(0,s.v_)((0,s.R1)(t)("settings.common.network.certStatus")),1),(0,s.Lk)("div",et,[(0,s.Lk)("div",{class:(0,s.C4)(["w-3 h-3 rounded-full mr-2 animate-pulse",(0,s.R1)(a).status?"bg-primary":"bg-error"])},null,2),(0,s.Lk)("span",el,(0,s.v_)((0,s.R1)(a).status?(0,s.R1)(t)("settings.common.network.certValidStatus"):(0,s.R1)(t)("settings.common.network.certExpiredStatus"))+"ï¼Œ ",1),(0,s.Lk)("span",es,(0,s.v_)((0,s.R1)(t)("settings.common.network.certExpireTime",{time:(0,s.R1)(a).expireTime})),1),(0,s.Lk)("span",ea,(0,s.v_)((0,s.R1)(t)("settings.common.network.certValid",{days:(0,s.R1)(a).expireDays})),1)])]),(0,s.Lk)("div",ei,[(0,s.Lk)("div",en,[(0,s.Lk)("label",er,(0,s.v_)((0,s.R1)(t)("settings.common.network.sslKey")),1),(0,s.bF)(r,{value:(0,s.R1)(l).sslKey,"onUpdate:value":i[1]||(i[1]=e=>(0,s.R1)(l).sslKey=e),type:"textarea",rows:6,placeholder:(0,s.R1)(t)("settings.common.network.keyPlaceholder"),class:"font-mono text-sm"},null,8,["value","placeholder"])]),(0,s.Lk)("div",eo,[(0,s.Lk)("label",ec,(0,s.v_)((0,s.R1)(t)("settings.common.network.sslCert")),1),(0,s.bF)(r,{value:(0,s.R1)(l).sslCert,"onUpdate:value":i[2]||(i[2]=e=>(0,s.R1)(l).sslCert=e),type:"textarea",rows:6,placeholder:(0,s.R1)(t)("settings.common.network.certPlaceholder"),class:"font-mono text-sm"},null,8,["value","placeholder"])])]),(0,s.Lk)("div",ed,[(0,s.bF)(o,{type:"primary",disabled:(0,s.R1)(u),onClick:m},{default:(0,s.k6)(()=>[(0,s.eW)((0,s.v_)((0,s.R1)(t)("common.actions.save")),1)]),_:1},8,["disabled"]),(0,s.bF)(o,{type:"primary",class:"ml-12px",ghost:"",onClick:p},{default:(0,s.k6)(()=>[...i[3]||(i[3]=[(0,s.eW)(" Apply Certificate ",-1)])]),_:1})])])}}}),em={class:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4"},ep={class:"mt-1 text-xs text-gray-500"},ev={class:"mt-1 text-xs text-gray-500"},eg=(0,s.pM)({__name:"DomainSettings",setup(e){let{currentDomain:t,networkForm:l}=v(),a=async()=>{await u({key:"billionmail_hostname",value:l.value.domain}),t.value=l.value.domain,l.value.domain=""};return(e,i)=>{let n=$.A,r=C.Ay,o=L.Ay;return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(r,{label:e.$t("settings.common.network.domain")},{default:(0,s.k6)(()=>[(0,s.Lk)("div",em,[(0,s.Lk)("div",null,[(0,s.bF)(n,{value:(0,s.R1)(t),disabled:""},null,8,["value"]),(0,s.Lk)("p",ep,(0,s.v_)(e.$t("settings.common.network.currentDomain")),1)]),(0,s.Lk)("div",null,[(0,s.bF)(n,{value:(0,s.R1)(l).domain,"onUpdate:value":i[0]||(i[0]=e=>(0,s.R1)(l).domain=e),placeholder:e.$t("settings.common.network.newDomainPlaceholder")},null,8,["value","placeholder"]),(0,s.Lk)("p",ev,(0,s.v_)(e.$t("settings.common.network.domainRule")),1)])])]),_:1},8,["label"]),(0,s.Lk)("div",null,[(0,s.bF)(o,{type:"primary",disabled:!(0,s.R1)(l).domain,onClick:a},{default:(0,s.k6)(()=>[(0,s.eW)((0,s.v_)(e.$t("settings.common.confirm")),1)]),_:1},8,["disabled"])])],64)}}}),eb={class:"flex items-center"},e_={class:"text-lg font-medium"},ef=(0,s.pM)({__name:"NetworkSettings",setup:e=>(e,t)=>{let l=F._,a=b.A,i=g.Ay;return(0,s.uX)(),(0,s.Wv)(i,{class:"mb-8",bordered:!1},{header:(0,s.k6)(()=>[(0,s.Lk)("div",eb,[(0,s.bF)(l,{class:"mr-2 text-primary",size:"20"},{default:(0,s.k6)(()=>[...t[0]||(t[0]=[(0,s.Lk)("i",{class:"i-mdi-network"},null,-1)])]),_:1}),(0,s.Lk)("span",e_,(0,s.v_)(e.$t("settings.common.network.title")),1)])]),default:(0,s.k6)(()=>[(0,s.bF)(a,null,{default:(0,s.k6)(()=>[(0,s.bF)(eu),(0,s.bF)(R),(0,s.bF)(eg)]),_:1})]),_:1})}});var ek=l(22559),eh=l(24646);let ex={class:"bg-gray-900 text-gray-100 rounded-lg p-4 pr-48px font-mono text-sm relative"},ey={class:"absolute top-0px right-16px h-full flex items-center"},ew={class:"mt-2 text-12px text-desc"},eR=(0,s.pM)({__name:"Command",props:{value:{type:String,default:""}},setup(e){let{copyText:t}=(0,eh.T)();return(l,a)=>{let i=L.Ay;return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("div",ex,[a[2]||(a[2]=(0,s.Lk)("span",{class:"text-gray-400 mr-2"},"$",-1)),(0,s.eW)((0,s.v_)(e.value)+" ",1),(0,s.Lk)("div",ey,[(0,s.bF)(i,{text:"",class:"text-desc",onClick:a[0]||(a[0]=l=>(0,s.R1)(t)(e.value))},{default:(0,s.k6)(()=>[...a[1]||(a[1]=[(0,s.Lk)("i",{class:"i-mdi-content-copy text-18px"},null,-1)])]),_:1})])]),(0,s.Lk)("p",ew,(0,s.v_)(l.$t("settings.common.system.copyCommand")),1)],64)}}}),eF={class:"block text-sm font-medium text-basic mb-3"},eL={class:"grid items-start grid-cols-1 md:grid-cols-2 gap-4"},eC={class:"mt-1 text-xs text-desc"},e$={class:"flex items-center"},eA={class:"mt-5"},eS=(0,s.pM)({__name:"PortSettings",setup(e){let{t}=(0,A.s9)(),{currentPort:l,portCommand:a}=v(),i=(0,s.KR)(l.value),n=(0,s.KR)(""),r=e=>{n.value=a.value.replace(/PORT/g,e)};return(0,s.nT)(()=>{i.value=l.value,l.value&&(n.value=a.value.replace(/PORT/g,l.value))}),(e,l)=>{let a=$.A,o=F._,c=ek.A;return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("label",eF,(0,s.v_)((0,s.R1)(t)("settings.common.system.port")),1),(0,s.Lk)("div",eL,[(0,s.Lk)("div",null,[(0,s.bF)(a,{value:(0,s.R1)(i),"onUpdate:value":[l[0]||(l[0]=e=>(0,s.i9)(i)?i.value=e:null),r]},null,8,["value"]),(0,s.Lk)("p",eC,(0,s.v_)((0,s.R1)(t)("settings.common.system.currentPort")),1)]),(0,s.Lk)("div",e$,[(0,s.bF)(c,{type:"warning",class:"w-full"},{icon:(0,s.k6)(()=>[(0,s.bF)(o,null,{default:(0,s.k6)(()=>[...l[1]||(l[1]=[(0,s.Lk)("i",{class:"i-mdi-alert-circle"},null,-1)])]),_:1})]),default:(0,s.k6)(()=>[(0,s.eW)(" "+(0,s.v_)((0,s.R1)(t)("settings.common.system.terminalRequired")),1)]),_:1})])]),(0,s.Lk)("div",eA,[(0,s.bF)(eR,{value:(0,s.R1)(n)},null,8,["value"])])])}}});var eE=l(95403);let eM={class:"block text-sm font-medium text-basic mb-3"},eK={class:"grid items-start grid-cols-1 md:grid-cols-2 gap-4"},eW={class:"flex gap-12px"},eP={class:"flex-1"},ez={class:"flex-1"},eU={class:"mt-1 text-xs text-desc"},eO={class:"flex items-center"},eD={class:"mt-5"},eT=(0,s.pM)({__name:"TimezoneSettings",setup(e){let{t}=(0,A.s9)(),{currentTime:l,timeCommand:a}=v(),i=(0,s.KR)(""),n=(0,s.KR)(""),r=(0,s.KR)(""),d=(0,s.KR)({}),u=(0,s.KR)([]),m=(0,s.EW)(()=>{let e=d.value[i.value];return e?e.map(e=>({label:e,value:e})):[]}),p=()=>{let e=d.value[i.value];n.value=e?e[0]:"",g()},g=()=>{i.value&&n.value&&(r.value=a.value.replace(/TIME ZONE/g,`${i.value}/${n.value}`))};return(0,s.wB)(()=>l.value,e=>{if(e){let t=e.split("/");i.value=t[0],n.value=t[1],r.value=a.value.replace(/TIME ZONE/g,`${i.value}/${n.value}`)}},{immediate:!0}),(async()=>{let e=await c.K.get("/settings/get_timezone_list");(0,o.Gv)(e)&&(d.value=e,u.value=Object.keys(e).map(e=>({label:e,value:e})))})(),(e,l)=>{let a=eE.A,o=F._,c=ek.A;return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("label",eM,(0,s.v_)((0,s.R1)(t)("settings.common.system.timezone")),1),(0,s.Lk)("div",eK,[(0,s.Lk)("div",null,[(0,s.Lk)("div",eW,[(0,s.Lk)("div",eP,[(0,s.bF)(a,{value:(0,s.R1)(i),"onUpdate:value":[l[0]||(l[0]=e=>(0,s.i9)(i)?i.value=e:null),p],options:(0,s.R1)(u),filterable:""},null,8,["value","options"])]),(0,s.Lk)("div",ez,[(0,s.bF)(a,{value:(0,s.R1)(n),"onUpdate:value":[l[1]||(l[1]=e=>(0,s.i9)(n)?n.value=e:null),g],options:(0,s.R1)(m),filterable:""},null,8,["value","options"])])]),(0,s.Lk)("div",eU,(0,s.v_)((0,s.R1)(t)("settings.common.system.currentTime")),1)]),(0,s.Lk)("div",eO,[(0,s.bF)(c,{type:"warning",class:"w-full"},{icon:(0,s.k6)(()=>[(0,s.bF)(o,null,{default:(0,s.k6)(()=>[...l[2]||(l[2]=[(0,s.Lk)("i",{class:"i-mdi-alert-circle"},null,-1)])]),_:1})]),default:(0,s.k6)(()=>[(0,s.eW)(" "+(0,s.v_)((0,s.R1)(t)("settings.common.system.terminalRequired")),1)]),_:1})])]),(0,s.Lk)("div",eD,[(0,s.bF)(eR,{value:(0,s.R1)(r)},null,8,["value"])])])}}});var eX=l(23995),eB=l(79623),eI=l(29794),ej=l(2334);let eV=(0,x.c)([(0,x.cB)("list",`
 --n-merged-border-color: var(--n-border-color);
 --n-merged-color: var(--n-color);
 --n-merged-color-hover: var(--n-color-hover);
 margin: 0;
 font-size: var(--n-font-size);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 padding: 0;
 list-style-type: none;
 color: var(--n-text-color);
 background-color: var(--n-merged-color);
 `,[(0,x.cM)("show-divider",[(0,x.cB)("list-item",[(0,x.c)("&:not(:last-child)",[(0,x.cE)("divider",`
 background-color: var(--n-merged-border-color);
 `)])])]),(0,x.cM)("clickable",[(0,x.cB)("list-item",`
 cursor: pointer;
 `)]),(0,x.cM)("bordered",`
 border: 1px solid var(--n-merged-border-color);
 border-radius: var(--n-border-radius);
 `),(0,x.cM)("hoverable",[(0,x.cB)("list-item",`
 border-radius: var(--n-border-radius);
 `,[(0,x.c)("&:hover",`
 background-color: var(--n-merged-color-hover);
 `,[(0,x.cE)("divider",`
 background-color: transparent;
 `)])])]),(0,x.cM)("bordered, hoverable",[(0,x.cB)("list-item",`
 padding: 12px 20px;
 `),(0,x.cE)("header, footer",`
 padding: 12px 20px;
 `)]),(0,x.cE)("header, footer",`
 padding: 12px 0;
 box-sizing: border-box;
 transition: border-color .3s var(--n-bezier);
 `,[(0,x.c)("&:not(:last-child)",`
 border-bottom: 1px solid var(--n-merged-border-color);
 `)]),(0,x.cB)("list-item",`
 position: relative;
 padding: 12px 0; 
 box-sizing: border-box;
 display: flex;
 flex-wrap: nowrap;
 align-items: center;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[(0,x.cE)("prefix",`
 margin-right: 20px;
 flex: 0;
 `),(0,x.cE)("suffix",`
 margin-left: 20px;
 flex: 0;
 `),(0,x.cE)("main",`
 flex: 1;
 `),(0,x.cE)("divider",`
 height: 1px;
 position: absolute;
 bottom: 0;
 left: 0;
 right: 0;
 background-color: transparent;
 transition: background-color .3s var(--n-bezier);
 pointer-events: none;
 `)])]),(0,x.EM)((0,x.cB)("list",`
 --n-merged-color-hover: var(--n-color-hover-modal);
 --n-merged-color: var(--n-color-modal);
 --n-merged-border-color: var(--n-border-color-modal);
 `)),(0,x.ES)((0,x.cB)("list",`
 --n-merged-color-hover: var(--n-color-hover-popover);
 --n-merged-color: var(--n-color-popover);
 --n-merged-border-color: var(--n-border-color-popover);
 `))]),eJ=Object.assign(Object.assign({},_.A.props),{size:{type:String,default:"medium"},bordered:Boolean,clickable:Boolean,hoverable:Boolean,showDivider:{type:Boolean,default:!0}}),eN=(0,eI.D)("n-list"),eQ=(0,s.pM)({name:"List",props:eJ,slots:Object,setup(e){let{mergedClsPrefixRef:t,inlineThemeDisabled:l,mergedRtlRef:a}=(0,f.Ay)(e),i=(0,eB.I)("List",a,t),n=(0,_.A)("List","-list",eV,ej.A,e,t);(0,s.Gt)(eN,{showDividerRef:(0,s.lW)(e,"showDivider"),mergedClsPrefixRef:t});let r=(0,s.EW)(()=>{let{common:{cubicBezierEaseInOut:e},self:{fontSize:t,textColor:l,color:s,colorModal:a,colorPopover:i,borderColor:r,borderColorModal:o,borderColorPopover:c,borderRadius:d,colorHover:u,colorHoverModal:m,colorHoverPopover:p}}=n.value;return{"--n-font-size":t,"--n-bezier":e,"--n-text-color":l,"--n-color":s,"--n-border-radius":d,"--n-border-color":r,"--n-border-color-modal":o,"--n-border-color-popover":c,"--n-color-modal":a,"--n-color-popover":i,"--n-color-hover":u,"--n-color-hover-modal":m,"--n-color-hover-popover":p}}),o=l?(0,k.R)("list",void 0,r,e):void 0;return{mergedClsPrefix:t,rtlEnabled:i,cssVars:l?void 0:r,themeClass:null==o?void 0:o.themeClass,onRender:null==o?void 0:o.onRender}},render(){var e;let{$slots:t,mergedClsPrefix:l,onRender:a}=this;return null==a||a(),(0,s.h)("ul",{class:[`${l}-list`,this.rtlEnabled&&`${l}-list--rtl`,this.bordered&&`${l}-list--bordered`,this.showDivider&&`${l}-list--show-divider`,this.hoverable&&`${l}-list--hoverable`,this.clickable&&`${l}-list--clickable`,this.themeClass],style:this.cssVars},t.header?(0,s.h)("div",{class:`${l}-list__header`},t.header()):null,null==(e=t.default)?void 0:e.call(t),t.footer?(0,s.h)("div",{class:`${l}-list__footer`},t.footer()):null)}});var eZ=l(11601);let eq=(0,s.pM)({name:"ListItem",slots:Object,setup(){let e=(0,s.WQ)(eN,null);return e||(0,eZ.$8)("list-item","`n-list-item` must be placed in `n-list`."),{showDivider:e.showDividerRef,mergedClsPrefix:e.mergedClsPrefixRef}},render(){let{$slots:e,mergedClsPrefix:t}=this;return(0,s.h)("li",{class:`${t}-list-item`},e.prefix?(0,s.h)("div",{class:`${t}-list-item__prefix`},e.prefix()):null,e.default?(0,s.h)("div",{class:`${t}-list-item__main`},e):null,e.suffix?(0,s.h)("div",{class:`${t}-list-item__suffix`},e.suffix()):null,this.showDivider&&(0,s.h)("div",{class:`${t}-list-item__divider`}))}}),eG={class:"block text-sm font-medium mb-3"},eH={class:"flex justify-between items-center h-34px mb-12px"},eY={class:"flex item-center gap-8px"},e0={class:"text-desc"},e1={class:"flex gap-8px mb-12px"},e6={class:"flex-1"},e2={class:"text-13px"},e8={class:"mt-12px"},e4=(0,s.pM)({__name:"IpWhitelistSettings",setup(e){let{ipWhitelistEnable:t,ipWhitelistList:l,getCommonConfig:a}=v(),i=(0,s.KR)(""),{t:n}=(0,A.s9)(),r=async()=>{let e;""===i.value?o.QB.error(n("settings.common.ipWhitelist.validation.ipRequired")):(await (e={ip:i.value},c.K.post("/settings/add_ip_whitelist",e,{fetchOptions:{loading:d("settings.api.loading.adding"),successMessage:!0}})),a(),i.value="")},m=e=>{(0,o.lJ)({title:e?n("settings.common.ipWhitelist.confirm.enableTitle"):n("settings.common.ipWhitelist.confirm.disableTitle"),content:e?n("settings.common.ipWhitelist.confirm.enableContent"):n("settings.common.ipWhitelist.confirm.disableContent"),onConfirm:async()=>{await u({key:"ip_whitelist_enable",value:`${e}`}),t.value=e}})},p=async()=>{(0,o.lJ)({title:n("settings.common.ipWhitelist.confirm.clearTitle"),content:n("settings.common.ipWhitelist.confirm.clearContent"),onConfirm:async()=>{await c.K.post("/settings/set_ip_whitelist",{ip_list:[]},{fetchOptions:{loading:d("settings.api.loading.clearing"),successMessage:!0}}),a()}})};return(e,a)=>{let u=Z.A,v=$.A,g=L.Ay,b=eX.A;return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("label",eG,(0,s.v_)((0,s.R1)(n)("settings.common.ipWhitelist.title")),1),(0,s.Lk)("div",eH,[(0,s.Lk)("div",eY,[(0,s.bF)(u,{value:(0,s.R1)(t),"onUpdate:value":m},{checked:(0,s.k6)(()=>[(0,s.eW)((0,s.v_)((0,s.R1)(n)("settings.common.ipWhitelist.enable")),1)]),unchecked:(0,s.k6)(()=>[(0,s.eW)((0,s.v_)((0,s.R1)(n)("settings.common.ipWhitelist.disable")),1)]),_:1},8,["value"])]),(0,s.Lk)("div",e0,(0,s.v_)((0,s.R1)(n)("settings.common.ipWhitelist.description")),1)]),(0,s.Lk)("div",e1,[(0,s.Lk)("div",e6,[(0,s.bF)(v,{value:(0,s.R1)(i),"onUpdate:value":a[0]||(a[0]=e=>(0,s.i9)(i)?i.value=e:null),placeholder:(0,s.R1)(n)("settings.common.ipWhitelist.placeholder")},null,8,["value","placeholder"])]),(0,s.bF)(g,{type:"primary",onClick:r},{default:(0,s.k6)(()=>[(0,s.eW)((0,s.v_)((0,s.R1)(n)("settings.common.ipWhitelist.add")),1)]),_:1})]),(0,s.R1)(l).length>0?((0,s.uX)(),(0,s.Wv)(eQ,{key:0,hoverable:"",bordered:""},{default:(0,s.k6)(()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)((0,s.R1)(l),(e,t)=>((0,s.uX)(),(0,s.Wv)(eq,{key:e.id},{suffix:(0,s.k6)(()=>[(0,s.bF)(g,{size:"small",quaternary:"",circle:"",onClick:s=>{var a;return a=e.id,void(0,o.lJ)({title:n("settings.common.ipWhitelist.confirm.deleteTitle"),content:n("settings.common.ipWhitelist.confirm.deleteContent",{ip:l.value[t].ip}),onConfirm:async()=>{let e;await (e={id:a},c.K.post("/settings/delete_ip_whitelist",e,{fetchOptions:{loading:d("settings.api.loading.deleting"),successMessage:!0}})),l.value.splice(t,1)}})}},{default:(0,s.k6)(()=>[...a[1]||(a[1]=[(0,s.Lk)("i",{class:"i-mingcute:close-fill text-16px"},null,-1)])]),_:1},8,["onClick"])]),default:(0,s.k6)(()=>[(0,s.Lk)("span",e2,(0,s.v_)(e.ip),1)]),_:2},1024))),128))]),_:1})):((0,s.uX)(),(0,s.Wv)(b,{key:1})),(0,s.Lk)("div",e8,[(0,s.bF)(g,{onClick:p},{default:(0,s.k6)(()=>[(0,s.eW)((0,s.v_)((0,s.R1)(n)("settings.common.ipWhitelist.clear")),1)]),_:1})])])}}}),e3={class:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4"},e9={class:"mt-1 text-xs text-desc"},e5={class:"mt-1 text-xs text-desc"},e7=(0,s.pM)({__name:"ProxySettings",setup(e){let{t}=(0,A.s9)(),{currentProxy:l,getCommonConfig:a}=v(),i=(0,s.KR)(""),n=async()=>{let e;await (e={domain:i.value},c.K.post("/settings/set_reverse_proxy_domain",e,{fetchOptions:{loading:d("settings.api.loading.setting"),successMessage:!0}})),a(),i.value=""},r=async()=>{(0,o.lJ)({title:t("settings.common.proxy.resetConfirm.title"),content:t("settings.common.proxy.resetConfirm.content"),onConfirm:async()=>{await m(),a()}})};return(e,t)=>{let a=$.A,o=C.Ay,c=L.Ay;return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.bF)(o,{ref:"formItemRef",label:e.$t("settings.common.proxy.title"),path:"username"},{default:(0,s.k6)(()=>[(0,s.Lk)("div",e3,[(0,s.Lk)("div",null,[(0,s.bF)(a,{value:(0,s.R1)(l),readonly:""},null,8,["value"]),(0,s.Lk)("p",e9,(0,s.v_)(e.$t("settings.common.proxy.description")),1)]),(0,s.Lk)("div",null,[(0,s.bF)(a,{value:(0,s.R1)(i),"onUpdate:value":t[0]||(t[0]=e=>(0,s.i9)(i)?i.value=e:null),placeholder:e.$t("settings.common.proxy.placeholder")},null,8,["value","placeholder"]),(0,s.Lk)("p",e5,(0,s.v_)(e.$t("settings.common.proxy.formatTip")),1)])])]),_:1},8,["label"]),(0,s.Lk)("div",null,[(0,s.bF)(c,{type:"primary",disabled:!(0,s.R1)(i),onClick:n},{default:(0,s.k6)(()=>[(0,s.eW)((0,s.v_)(e.$t("settings.common.confirm")),1)]),_:1},8,["disabled"]),(0,s.bF)(c,{class:"ml-12px",onClick:r},{default:(0,s.k6)(()=>[(0,s.eW)((0,s.v_)(e.$t("settings.common.proxy.reset")),1)]),_:1})])])}}}),te={class:"flex items-center mb-12px"},tt={class:"font-bold text-basic text-14px"},tl={class:"flex items-center mb-16px"},ts={class:"ml-8px text-desc"},ta={class:"grid grid-cols-1 md:grid-cols-2 gap-16px mb-16px"},ti={class:"mt-1 text-xs text-desc"},tn={class:"mt-1 text-xs text-desc"},tr={class:"block text-sm font-medium mb-2"},to=(0,s.pM)({__name:"ApiSettings",setup(e){let{t}=(0,A.s9)(),{apiInfo:l,getCommonConfig:a}=v(),i=e=>{(0,o.lJ)({title:e?t("settings.common.api.confirm.enable"):t("settings.common.api.confirm.disable"),content:e?t("settings.common.api.confirm.enableContent"):t("settings.common.api.confirm.disableContent"),onConfirm:async()=>{let t;await (t={api_doc_enabled:e},c.K.post("/settings/set_api_doc_swagger",t,{fetchOptions:{loading:d("settings.api.loading.setting"),successMessage:!0}})),a()}})},n=()=>{window.open("https://billionmail.com/start/api_usage_guide.html")};return(e,t)=>{let a=L.Ay,r=Z.A,o=$.A;return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("div",te,[(0,s.Lk)("span",tt,(0,s.v_)(e.$t("settings.common.api.title")),1),(0,s.bF)(a,{class:"ml-8px",text:"",type:"primary",onClick:n},{default:(0,s.k6)(()=>[(0,s.eW)((0,s.v_)(e.$t("common.actions.help")),1)]),_:1})]),(0,s.Lk)("div",tl,[(0,s.bF)(r,{value:(0,s.R1)(l).api_doc_enabled,"onUpdate:value":i},null,8,["value"]),(0,s.Lk)("span",ts,(0,s.v_)(e.$t("settings.common.api.enableApi")),1)]),(0,s.Lk)("div",ta,[(0,s.Lk)("div",null,[(0,s.bF)(o,{value:(0,s.R1)(l).api_doc_url,readonly:""},null,8,["value"]),(0,s.Lk)("p",ti,(0,s.v_)(e.$t("settings.common.api.apiDocUrl")),1)]),(0,s.Lk)("div",null,[(0,s.bF)(o,{value:(0,s.R1)(l).swagger_url,"onUpdate:value":t[0]||(t[0]=e=>(0,s.R1)(l).swagger_url=e),readonly:""},null,8,["value"]),(0,s.Lk)("p",tn,(0,s.v_)(e.$t("settings.common.api.swaggerUrl")),1)])]),(0,s.Lk)("div",null,[(0,s.Lk)("label",tr,(0,s.v_)(e.$t("settings.common.api.token")),1),(0,s.bF)(o,{value:(0,s.R1)(l).api_token,"onUpdate:value":t[1]||(t[1]=e=>(0,s.R1)(l).api_token=e),type:"textarea",rows:5,readonly:!0,class:"font-mono text-sm"},null,8,["value"])])])}}}),tc={class:"flex items-center"},td={class:"text-lg font-medium"},tu={class:"space-y-8"},tm=(0,s.pM)({__name:"SystemSettings",setup:e=>(e,t)=>{let l=F._,a=g.Ay;return(0,s.uX)(),(0,s.Wv)(a,{class:"mb-8",bordered:!1},{header:(0,s.k6)(()=>[(0,s.Lk)("div",tc,[(0,s.bF)(l,{class:"mr-2 text-primary",size:"20"},{default:(0,s.k6)(()=>[...t[0]||(t[0]=[(0,s.Lk)("i",{class:"i-mdi-cog"},null,-1)])]),_:1}),(0,s.Lk)("span",td,(0,s.v_)(e.$t("settings.common.system.title")),1)])]),default:(0,s.k6)(()=>[(0,s.Lk)("div",tu,[(0,s.bF)(eS),(0,s.bF)(R),(0,s.bF)(eT),(0,s.bF)(R),(0,s.bF)(e4),(0,s.bF)(R),(0,s.bF)(e7),(0,s.bF)(R),(0,s.bF)(to)])]),_:1})}});var tp=l(60045),tv=l(13665),tg=l(2770);let tb=(0,s.pM)({__name:"AlarmSettings",setup(e){let{blacklistConfig:t,getCommonConfig:l}=v(),a=(0,s.Kh)({name:"",sender_email:"",smtp_password:"",smtp_server:"",smtp_port:465,recipient_list:""}),[i]=(0,tp.h)({onChangeState:e=>{e&&(a.name=t.value.alert_settings.name,a.sender_email=t.value.alert_settings.sender_email,a.smtp_password=t.value.alert_settings.smtp_password,a.smtp_server=t.value.alert_settings.smtp_server,a.smtp_port=t.value.alert_settings.smtp_port,a.recipient_list=t.value.alert_settings.recipient_list.join("\n"))},onConfirm:async()=>{let e;await (e={name:a.name,sender_email:a.sender_email,smtp_password:a.smtp_password,smtp_server:a.smtp_server,smtp_port:a.smtp_port,recipient_list:a.recipient_list.split("\n")},c.K.post("/settings/set_blacklist_alert_settings",e,{fetchOptions:{loading:d("settings.api.loading.setting"),successMessage:!0}})),l()}});return(e,t)=>{let l=$.A,n=C.Ay,r=tg.A,o=tv.A;return(0,s.uX)(),(0,s.Wv)((0,s.R1)(i),{title:e.$t("settings.common.notifySettings.blacklist.alarmSettings.title"),width:500},{default:(0,s.k6)(()=>[(0,s.bF)(o,{class:"pt-8px"},{default:(0,s.k6)(()=>[(0,s.bF)(n,{label:e.$t("settings.common.notifySettings.blacklist.alarmSettings.name")},{default:(0,s.k6)(()=>[(0,s.bF)(l,{value:(0,s.R1)(a).name,"onUpdate:value":t[0]||(t[0]=e=>(0,s.R1)(a).name=e)},null,8,["value"])]),_:1},8,["label"]),(0,s.bF)(n,{label:e.$t("settings.common.notifySettings.blacklist.alarmSettings.senderEmail")},{default:(0,s.k6)(()=>[(0,s.bF)(l,{value:(0,s.R1)(a).sender_email,"onUpdate:value":t[1]||(t[1]=e=>(0,s.R1)(a).sender_email=e)},null,8,["value"])]),_:1},8,["label"]),(0,s.bF)(n,{label:e.$t("settings.common.notifySettings.blacklist.alarmSettings.smtpPassword")},{default:(0,s.k6)(()=>[(0,s.bF)(l,{value:(0,s.R1)(a).smtp_password,"onUpdate:value":t[2]||(t[2]=e=>(0,s.R1)(a).smtp_password=e)},null,8,["value"])]),_:1},8,["label"]),(0,s.bF)(n,{label:e.$t("settings.common.notifySettings.blacklist.alarmSettings.smtpServer")},{default:(0,s.k6)(()=>[(0,s.bF)(l,{value:(0,s.R1)(a).smtp_server,"onUpdate:value":t[3]||(t[3]=e=>(0,s.R1)(a).smtp_server=e)},null,8,["value"])]),_:1},8,["label"]),(0,s.bF)(n,{label:e.$t("settings.common.notifySettings.blacklist.alarmSettings.port")},{default:(0,s.k6)(()=>[(0,s.bF)(r,{value:(0,s.R1)(a).smtp_port,"onUpdate:value":t[4]||(t[4]=e=>(0,s.R1)(a).smtp_port=e),class:"w-full",min:1,max:65535,"show-button":!1},null,8,["value"])]),_:1},8,["label"]),(0,s.bF)(n,{label:e.$t("settings.common.notifySettings.blacklist.alarmSettings.recipientEmail")},{default:(0,s.k6)(()=>[(0,s.bF)(l,{value:(0,s.R1)(a).recipient_list,"onUpdate:value":t[5]||(t[5]=e=>(0,s.R1)(a).recipient_list=e),type:"textarea",rows:4},null,8,["value"])]),_:1},8,["label"])]),_:1})]),_:1},8,["title"])}}}),t_={class:"block text-sm font-medium mb-3 text-basic"},tf={class:"flex items-center gap-16px"},tk=(0,s.pM)({__name:"BlacklistSetting",setup(e){let{blacklistConfig:t}=v(),l=async e=>{let l;await (l={enabled:e},c.K.post("/settings/set_blacklist_alert",l,{fetchOptions:{loading:d("settings.api.loading.setting"),successMessage:!0}})),t.value.alert_enabled=e},[a,i]=(0,tp.h)({component:tb}),n=()=>{i.open()};return(e,i)=>{let r=Z.A,o=L.Ay;return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("div",t_,(0,s.v_)(e.$t("settings.common.notifySettings.blacklist.title")),1),(0,s.Lk)("div",tf,[(0,s.bF)(r,{value:(0,s.R1)(t).alert_enabled,"onUpdate:value":l},null,8,["value"]),(0,s.bF)(o,{onClick:n},{default:(0,s.k6)(()=>[(0,s.eW)((0,s.v_)(e.$t("settings.common.notifySettings.blacklist.alarmSet")),1)]),_:1})]),(0,s.bF)((0,s.R1)(a))])}}}),th={class:"block text-sm font-medium mb-3 text-basic"},tx={class:"flex items-center"},ty=(0,s.pM)({__name:"AutoCheckSettings",setup(e){let{t}=(0,A.s9)(),{blacklistConfig:l}=v(),a=e=>{(0,o.lJ)({title:e?t("settings.common.notifySettings.blacklist.autoCheck.confirm.enableTitle"):t("settings.common.notifySettings.blacklist.autoCheck.confirm.disableTitle"),content:e?t("settings.common.notifySettings.blacklist.autoCheck.confirm.enableContent"):t("settings.common.notifySettings.blacklist.autoCheck.confirm.disableContent"),onConfirm:async()=>{let t;await (t={enabled:e},c.K.post("/settings/set_blacklist_auto_scan",t,{fetchOptions:{loading:d("settings.api.loading.setting"),successMessage:!0}})),l.value.auto_scan_enabled=e}})};return(e,t)=>{let i=Z.A;return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("div",th,(0,s.v_)(e.$t("settings.common.notifySettings.blacklist.autoCheck.title")),1),(0,s.Lk)("div",tx,[(0,s.bF)(i,{value:(0,s.R1)(l).auto_scan_enabled,"onUpdate:value":a},null,8,["value"])])])}}}),tw={class:"flex items-center"},tR={class:"text-lg font-medium"},tF=(0,s.pM)({__name:"NotifySettings",setup:e=>(e,t)=>{let l=F._,a=g.Ay;return(0,s.uX)(),(0,s.Wv)(a,{bordered:!1},{header:(0,s.k6)(()=>[(0,s.Lk)("div",tw,[(0,s.bF)(l,{class:"mr-2 text-primary",size:"20"},{default:(0,s.k6)(()=>[...t[0]||(t[0]=[(0,s.Lk)("i",{class:"i-mdi:notification-settings-outline"},null,-1)])]),_:1}),(0,s.Lk)("span",tR,(0,s.v_)(e.$t("settings.common.notifySettings.title")),1)])]),default:(0,s.k6)(()=>[(0,s.bF)(tk),(0,s.bF)(R),(0,s.bF)(ty)]),_:1})}}),tL={class:"max-w-4xl mx-auto px-4 py-8"},tC=(0,s.pM)({__name:"index",setup(e){let t=p();return t.getCommonConfig(),(0,s.xo)(()=>{t.reset()}),(e,t)=>((0,s.uX)(),(0,s.CE)("div",tL,[(0,s.bF)(Q),(0,s.bF)(ef),(0,s.bF)(tm),(0,s.bF)(tF)]))}})}}]);