"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["5226"],{60705(a,t,e){e.r(t),e.d(t,{default:()=>C});var l=e(45449),i=e(27546),s=e(23141),n=e(90290),c=e(85020),o=e(84336),u=e(38879);async function r(a){let{sitemap:t,hasGotSitemap:e}=(0,u.s)();if(!e.value)try{let l=await c.K.post("/askai/project/get_sitemap",{domain:a});t.value=0==l.length?[{title:"",uri_path:""}]:l.map(a=>(a.isSaved=!0,a)),e.value=!0}catch(a){console.warn(a)}}async function p(a,t,e){try{await c.K.post("/askai/project/add_sitemap_node",{domain:a,title:t,uri_path:e},o.oX)}catch(a){console.warn(a)}}async function d(a,t){try{await c.K.post("/askai/project/remove_sitemap_node",{domain:a,uri_path:t},o.oX)}catch(a){console.warn(a)}}var v=e(75220);let k={class:"content-wrapper"},m={class:"page-tit"},_={class:"left-tit"},f={class:"tit-content"},h={class:"mb-5"},b={class:"inline-form-items"},y=["onClick"],L=["onClick"],w=(0,n.pM)({__name:"Sitemap",setup(a){let{sitemap:t}=(0,u.s)(),e=(0,v.lq)().params.domain;async function c(a,l){await p(e,a.title,a.uri_path),t.value[l].isSaved=!0}async function o(a,l){a.title&&a.uri_path&&await d(e,a.uri_path),t.value.splice(l,1)}function w(){t.value.push({title:"",uri_path:""})}return r(e),(a,e)=>{let u=s.Ay,r=i.Ay,p=l.A;return(0,n.uX)(),(0,n.CE)("div",k,[(0,n.bF)(u,{class:"mb-5"},{default:(0,n.k6)(()=>[(0,n.Lk)("div",m,[(0,n.Lk)("div",_,[e[0]||(e[0]=(0,n.Lk)("div",{class:"back-tool"},[(0,n.Lk)("i",{class:"i-ri:apps-fill text-6"})],-1)),(0,n.Lk)("span",f,(0,n.v_)(a.$t("domain.edit.sitemap.title")),1)])])]),_:1}),(0,n.bF)(u,null,{default:(0,n.k6)(()=>[(0,n.Lk)("div",h,[(0,n.bF)(r,{type:"primary",onClick:w},{default:(0,n.k6)(()=>[(0,n.eW)((0,n.v_)(a.$t("domain.edit.sitemap.addLink")),1)]),_:1})]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,n.R1)(t),(a,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:"mb-2.5"},[(0,n.Lk)("div",b,[(0,n.bF)(p,{value:a.title,"onUpdate:value":t=>a.title=t,class:"name"},null,8,["value","onUpdate:value"]),(0,n.bF)(p,{value:a.uri_path,"onUpdate:value":t=>a.uri_path=t,class:"url"},null,8,["value","onUpdate:value"]),(0,n.Lk)("div",{class:"operation close",onClick:e=>o(a,t)},[...e[1]||(e[1]=[(0,n.Lk)("i",{class:"i-material-symbols:close-rounded text-5"},null,-1)])],8,y),(0,n.Lk)("div",{class:(0,n.C4)(["operation",{save:a.title&&a.uri_path},{disabled:!a.title||!a.uri_path}]),onClick:e=>c(a,t)},[...e[2]||(e[2]=[(0,n.Lk)("i",{class:"i-mingcute:save-2-line text-5"},null,-1)])],10,L)])]))),128))]),_:1})])}}}),C=(0,e(64901).default)(w,[["__scopeId","data-v-1538aadb"]])}}]);